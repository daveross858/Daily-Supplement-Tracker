/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/library";
exports.ids = ["pages/library"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Flibrary&preferredRegion=&absolutePagePath=.%2Fpages%2Flibrary.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Flibrary&preferredRegion=&absolutePagePath=.%2Fpages%2Flibrary.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./pages/_document.tsx\");\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./pages/_app.tsx\");\n/* harmony import */ var _pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/library.tsx */ \"./pages/library.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/library\",\n        pathname: \"/library\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__[\"default\"]\n    },\n    userland: _pages_library_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGbGlicmFyeSZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGbGlicmFyeS50c3gmYWJzb2x1dGVBcHBQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9hcHAmYWJzb2x1dGVEb2N1bWVudFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2RvY3VtZW50Jm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ2hDO0FBQ0w7QUFDMUQ7QUFDb0Q7QUFDVjtBQUMxQztBQUNnRDtBQUNoRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsK0NBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sdUJBQXVCLHdFQUFLLENBQUMsK0NBQVE7QUFDckMsdUJBQXVCLHdFQUFLLENBQUMsK0NBQVE7QUFDckMsMkJBQTJCLHdFQUFLLENBQUMsK0NBQVE7QUFDekMsZUFBZSx3RUFBSyxDQUFDLCtDQUFRO0FBQzdCLHdCQUF3Qix3RUFBSyxDQUFDLCtDQUFRO0FBQzdDO0FBQ08sZ0NBQWdDLHdFQUFLLENBQUMsK0NBQVE7QUFDOUMsZ0NBQWdDLHdFQUFLLENBQUMsK0NBQVE7QUFDOUMsaUNBQWlDLHdFQUFLLENBQUMsK0NBQVE7QUFDL0MsZ0NBQWdDLHdFQUFLLENBQUMsK0NBQVE7QUFDOUMsb0NBQW9DLHdFQUFLLENBQUMsK0NBQVE7QUFDekQ7QUFDTyx3QkFBd0IseUdBQWdCO0FBQy9DO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsV0FBVztBQUNYLGdCQUFnQjtBQUNoQixLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQsaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBwbGVtZW50LXRyYWNrZXIvP2ZkMGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9saWJyYXJ5LnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL2xpYnJhcnlcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2xpYnJhcnlcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICBBcHAsXG4gICAgICAgIERvY3VtZW50XG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Flibrary&preferredRegion=&absolutePagePath=.%2Fpages%2Flibrary.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./components/Layout.tsx":
/*!*******************************!*\
  !*** ./components/Layout.tsx ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Layout)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts/AuthContextFirebase */ \"./contexts/AuthContextFirebase.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_4__]);\n_contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nfunction Layout({ children }) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const { user, logout, isLoading } = (0,_contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_4__.useAuth)();\n    const [showUserMenu, setShowUserMenu] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const desktopMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const mobileMenuRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const navigation = [\n        {\n            name: \"Today\",\n            href: \"/\",\n            icon: \"\\uD83D\\uDCC5\",\n            mobileIcon: \"\\uD83C\\uDFE0\"\n        },\n        {\n            name: \"Weekly\",\n            href: \"/weekly\",\n            icon: \"\\uD83D\\uDDD3️\",\n            mobileIcon: \"\\uD83D\\uDCC5\"\n        },\n        {\n            name: \"Library\",\n            href: \"/library\",\n            icon: \"\\uD83D\\uDCDA\",\n            mobileIcon: \"\\uD83D\\uDCDA\"\n        },\n        {\n            name: \"Settings\",\n            href: \"/settings\",\n            icon: \"⚙️\",\n            mobileIcon: \"⚙️\"\n        }\n    ];\n    // Close user menu when clicking outside - MOVED BEFORE CONDITIONAL RETURN\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleClickOutside = (event)=>{\n            const clickedOutsideDesktop = desktopMenuRef.current && !desktopMenuRef.current.contains(event.target);\n            const clickedOutsideMobile = mobileMenuRef.current && !mobileMenuRef.current.contains(event.target);\n            if (clickedOutsideDesktop || clickedOutsideMobile) {\n                setShowUserMenu(false);\n            }\n        };\n        document.addEventListener(\"mousedown\", handleClickOutside);\n        return ()=>document.removeEventListener(\"mousedown\", handleClickOutside);\n    }, []);\n    // Show loading state during auth check\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-16 h-16 mx-auto mb-4 bg-blue-600 rounded-full flex items-center justify-center animate-pulse\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-2xl text-white\",\n                            children: \"\\uD83D\\uDC8A\"\n                        }, void 0, false, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                            lineNumber: 45,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                        lineNumber: 44,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600\",\n                        children: \"Loading...\"\n                    }, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                        lineNumber: 47,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                lineNumber: 43,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n            lineNumber: 42,\n            columnNumber: 7\n        }, this);\n    }\n    const handleLogout = ()=>{\n        logout();\n        setShowUserMenu(false);\n        router.push(\"/\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-50 pb-16 md:pb-0\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                className: \"hidden md:block bg-white shadow-sm border-b border-gray-200 sticky top-0 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-6xl mx-auto px-4 sm:px-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex justify-between items-center h-16\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                    href: \"/\",\n                                    className: \"text-xl font-bold text-blue-600 hover:text-blue-700 transition-colors\",\n                                    children: \"\\uD83D\\uDC8A Supplement Tracker\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                    lineNumber: 66,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                lineNumber: 65,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center space-x-4\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex space-x-1\",\n                                        children: navigation.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                                href: item.href,\n                                                className: `flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${router.pathname === item.href ? \"bg-blue-100 text-blue-700 shadow-sm\" : \"text-gray-600 hover:text-gray-900 hover:bg-gray-50\"}`,\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-lg\",\n                                                        children: item.icon\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                        lineNumber: 82,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    item.name\n                                                ]\n                                            }, item.name, true, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                lineNumber: 73,\n                                                columnNumber: 19\n                                            }, this))\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                        lineNumber: 71,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative\",\n                                        ref: desktopMenuRef,\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowUserMenu(!showUserMenu),\n                                                className: \"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-50 transition-colors\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-white text-sm font-medium\",\n                                                            children: user?.name?.charAt(0).toUpperCase()\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                            lineNumber: 95,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                        lineNumber: 94,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm font-medium text-gray-700\",\n                                                        children: user?.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                        lineNumber: 99,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-gray-400\",\n                                                        children: \"▼\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                        lineNumber: 100,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                lineNumber: 90,\n                                                columnNumber: 17\n                                            }, this),\n                                            showUserMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"px-4 py-2 border-b border-gray-100\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-sm font-medium text-gray-900\",\n                                                                children: user?.name\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                                lineNumber: 106,\n                                                                columnNumber: 23\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                className: \"text-xs text-gray-500\",\n                                                                children: user?.email\n                                                            }, void 0, false, {\n                                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                                lineNumber: 107,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                        lineNumber: 105,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: handleLogout,\n                                                        className: \"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors\",\n                                                        children: \"Sign Out\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                        lineNumber: 109,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                lineNumber: 104,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                        lineNumber: 89,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                lineNumber: 70,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                        lineNumber: 64,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                    lineNumber: 63,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                lineNumber: 62,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"md:hidden bg-gradient-to-r from-purple-700 to-blue-600 text-white shadow-sm border-b border-gray-200 sticky top-0 z-50\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"px-4 py-3\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-lg font-bold text-white\",\n                                children: router.pathname === \"/\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                    children: [\n                                        \"Today\",\n                                        \" - \",\n                                        new Date().toLocaleDateString(\"en-US\", {\n                                            month: \"short\",\n                                            day: \"numeric\"\n                                        })\n                                    ]\n                                }, void 0, true) : navigation.find((item)=>item.href === router.pathname)?.name || \"Supplement Tracker\"\n                            }, void 0, false, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                lineNumber: 127,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                ref: mobileMenuRef,\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setShowUserMenu(!showUserMenu),\n                                        className: \"flex items-center space-x-2 p-1\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-8 h-8 bg-white border border-gray-400 rounded-full flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-black text-sm font-medium\",\n                                                children: user?.name?.charAt(0).toUpperCase()\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                lineNumber: 148,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                            lineNumber: 147,\n                                            columnNumber: 17\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                        lineNumber: 143,\n                                        columnNumber: 15\n                                    }, this),\n                                    showUserMenu && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"px-4 py-2 border-b border-gray-100\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-sm font-medium text-gray-900\",\n                                                        children: user?.name\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                        lineNumber: 157,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                        className: \"text-xs text-gray-500\",\n                                                        children: user?.email\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                        lineNumber: 158,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                lineNumber: 156,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: handleLogout,\n                                                className: \"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors\",\n                                                children: \"Sign Out\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                                lineNumber: 160,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                        lineNumber: 155,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                lineNumber: 142,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                        lineNumber: 126,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                    lineNumber: 125,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                lineNumber: 124,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"min-h-screen\",\n                children: children\n            }, void 0, false, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                lineNumber: 174,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                className: \"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-bottom\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-4 h-16\",\n                    children: navigation.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                            href: item.href,\n                            className: `flex flex-col items-center justify-center space-y-1 transition-all duration-200 ${router.pathname === item.href ? \"text-blue-600 bg-blue-50\" : \"text-gray-600 hover:text-gray-900 active:bg-gray-100\"}`,\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xl\",\n                                    children: item.mobileIcon\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                    lineNumber: 189,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                    className: \"text-xs font-medium\",\n                                    children: item.name\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                                    lineNumber: 190,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, item.name, true, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                            lineNumber: 180,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                    lineNumber: 178,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                lineNumber: 177,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"footer\", {\n                className: \"hidden md:block bg-white border-t border-gray-200 mt-8\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-6xl mx-auto px-4 sm:px-6 py-6\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-center text-sm text-gray-500\",\n                        children: \"Daily Supplement Tracker - Stay healthy! \\uD83D\\uDCAA\"\n                    }, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                        lineNumber: 199,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                    lineNumber: 198,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n                lineNumber: 197,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/components/Layout.tsx\",\n        lineNumber: 60,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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MERBQ2J2QixNQUFNUSxNQUFNMkIsT0FBTyxHQUFHQzs7Ozs7Ozs7Ozs7Ozs7OztvQ0FLNUJqQyw4QkFDQyw4REFBQ21CO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQ0Q7Z0RBQUlDLFdBQVU7O2tFQUNiLDhEQUFDRTt3REFBRUYsV0FBVTtrRUFBcUN2QixNQUFNUTs7Ozs7O2tFQUN4RCw4REFBQ2lCO3dEQUFFRixXQUFVO2tFQUF5QnZCLE1BQU1xQzs7Ozs7Ozs7Ozs7OzBEQUU5Qyw4REFBQ0o7Z0RBQ0NDLFNBQVNSO2dEQUNUSCxXQUFVOzBEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQVdiLDhEQUFDc0I7Z0JBQUt0QixXQUFVOzBCQUFnQnpCOzs7Ozs7MEJBR2hDLDhEQUFDOEI7Z0JBQUlMLFdBQVU7MEJBQ2IsNEVBQUNEO29CQUFJQyxXQUFVOzhCQUNaaEIsV0FBV3NCLEdBQUcsQ0FBQyxDQUFDQyxxQkFDZiw4REFBQ3BDLGtEQUFJQTs0QkFFSGUsTUFBTXFCLEtBQUtyQixJQUFJOzRCQUNmYyxXQUFXLENBQUMsZ0ZBQWdGLEVBQzFGeEIsT0FBT2dDLFFBQVEsS0FBS0QsS0FBS3JCLElBQUksR0FDekIsNkJBQ0EsdURBQ0wsQ0FBQzs7OENBRUYsOERBQUNlO29DQUFLRCxXQUFVOzhDQUFXTyxLQUFLbkIsVUFBVTs7Ozs7OzhDQUMxQyw4REFBQ2E7b0NBQUtELFdBQVU7OENBQXVCTyxLQUFLdEIsSUFBSTs7Ozs7OzsyQkFUM0NzQixLQUFLdEIsSUFBSTs7Ozs7Ozs7Ozs7Ozs7OzBCQWdCdEIsOERBQUNzQztnQkFBT3ZCLFdBQVU7MEJBQ2hCLDRFQUFDRDtvQkFBSUMsV0FBVTs4QkFDYiw0RUFBQ0U7d0JBQUVGLFdBQVU7a0NBQW9DOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBTzNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwcGxlbWVudC10cmFja2VyLy4vY29tcG9uZW50cy9MYXlvdXQudHN4PzNjOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJ1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9yb3V0ZXInXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vY29udGV4dHMvQXV0aENvbnRleHRGaXJlYmFzZSdcblxuaW50ZXJmYWNlIExheW91dFByb3BzIHtcbiAgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZVxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMYXlvdXQoeyBjaGlsZHJlbiB9OiBMYXlvdXRQcm9wcykge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuICBjb25zdCB7IHVzZXIsIGxvZ291dCwgaXNMb2FkaW5nIH0gPSB1c2VBdXRoKClcbiAgY29uc3QgW3Nob3dVc2VyTWVudSwgc2V0U2hvd1VzZXJNZW51XSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBkZXNrdG9wTWVudVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3QgbW9iaWxlTWVudVJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcblxuICBjb25zdCBuYXZpZ2F0aW9uID0gW1xuICAgIHsgbmFtZTogJ1RvZGF5JywgaHJlZjogJy8nLCBpY29uOiAn8J+ThScsIG1vYmlsZUljb246ICfwn4+gJyB9LFxuICAgIHsgbmFtZTogJ1dlZWtseScsIGhyZWY6ICcvd2Vla2x5JywgaWNvbjogJ/Cfl5PvuI8nLCBtb2JpbGVJY29uOiAn8J+ThScgfSxcbiAgICB7IG5hbWU6ICdMaWJyYXJ5JywgaHJlZjogJy9saWJyYXJ5JywgaWNvbjogJ/Cfk5onLCBtb2JpbGVJY29uOiAn8J+TmicgfSxcbiAgICB7IG5hbWU6ICdTZXR0aW5ncycsIGhyZWY6ICcvc2V0dGluZ3MnLCBpY29uOiAn4pqZ77iPJywgbW9iaWxlSWNvbjogJ+Kame+4jycgfSxcbiAgXVxuXG4gIC8vIENsb3NlIHVzZXIgbWVudSB3aGVuIGNsaWNraW5nIG91dHNpZGUgLSBNT1ZFRCBCRUZPUkUgQ09ORElUSU9OQUwgUkVUVVJOXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlQ2xpY2tPdXRzaWRlID0gKGV2ZW50OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBjb25zdCBjbGlja2VkT3V0c2lkZURlc2t0b3AgPSBkZXNrdG9wTWVudVJlZi5jdXJyZW50ICYmICFkZXNrdG9wTWVudVJlZi5jdXJyZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKVxuICAgICAgY29uc3QgY2xpY2tlZE91dHNpZGVNb2JpbGUgPSBtb2JpbGVNZW51UmVmLmN1cnJlbnQgJiYgIW1vYmlsZU1lbnVSZWYuY3VycmVudC5jb250YWlucyhldmVudC50YXJnZXQgYXMgTm9kZSlcbiAgICAgIFxuICAgICAgaWYgKGNsaWNrZWRPdXRzaWRlRGVza3RvcCB8fCBjbGlja2VkT3V0c2lkZU1vYmlsZSkge1xuICAgICAgICBzZXRTaG93VXNlck1lbnUoZmFsc2UpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgaGFuZGxlQ2xpY2tPdXRzaWRlKVxuICAgIHJldHVybiAoKSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBoYW5kbGVDbGlja091dHNpZGUpXG4gIH0sIFtdKVxuXG4gIC8vIFNob3cgbG9hZGluZyBzdGF0ZSBkdXJpbmcgYXV0aCBjaGVja1xuICBpZiAoaXNMb2FkaW5nKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCBiZy1ibHVlLTYwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYW5pbWF0ZS1wdWxzZVwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGwgdGV4dC13aGl0ZVwiPvCfkoo8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPkxvYWRpbmcuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlTG9nb3V0ID0gKCkgPT4ge1xuICAgIGxvZ291dCgpXG4gICAgc2V0U2hvd1VzZXJNZW51KGZhbHNlKVxuICAgIHJvdXRlci5wdXNoKCcvJylcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBwYi0xNiBtZDpwYi0wXCI+XG4gICAgICB7LyogRGVza3RvcCBOYXZpZ2F0aW9uICovfVxuICAgICAgPG5hdiBjbGFzc05hbWU9XCJoaWRkZW4gbWQ6YmxvY2sgYmctd2hpdGUgc2hhZG93LXNtIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBzdGlja3kgdG9wLTAgei01MFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTZ4bCBteC1hdXRvIHB4LTQgc206cHgtNlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIGgtMTZcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPExpbmsgaHJlZj1cIi9cIiBjbGFzc05hbWU9XCJ0ZXh0LXhsIGZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwIGhvdmVyOnRleHQtYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICDwn5KKIFN1cHBsZW1lbnQgVHJhY2tlclxuICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgICAgICB7bmF2aWdhdGlvbi5tYXAoKGl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgIDxMaW5rXG4gICAgICAgICAgICAgICAgICAgIGtleT17aXRlbS5uYW1lfVxuICAgICAgICAgICAgICAgICAgICBocmVmPXtpdGVtLmhyZWZ9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHB4LTQgcHktMiByb3VuZGVkLWxnIHRleHQtc20gZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwICR7XG4gICAgICAgICAgICAgICAgICAgICAgcm91dGVyLnBhdGhuYW1lID09PSBpdGVtLmhyZWZcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtMTAwIHRleHQtYmx1ZS03MDAgc2hhZG93LXNtJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiAndGV4dC1ncmF5LTYwMCBob3Zlcjp0ZXh0LWdyYXktOTAwIGhvdmVyOmJnLWdyYXktNTAnXG4gICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+e2l0ZW0uaWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICA8L0xpbms+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIFVzZXIgUHJvZmlsZSBEcm9wZG93biAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiIHJlZj17ZGVza3RvcE1lbnVSZWZ9PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dVc2VyTWVudSghc2hvd1VzZXJNZW51KX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBwLTIgcm91bmRlZC1sZyBob3ZlcjpiZy1ncmF5LTUwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOCBoLTggYmctYmx1ZS02MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1zbSBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt1c2VyPy5uYW1lPy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDBcIj57dXNlcj8ubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwXCI+4pa8PC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHtzaG93VXNlck1lbnUgJiYgKFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0wIG10LTIgdy00OCBiZy13aGl0ZSByb3VuZGVkLWxnIHNoYWRvdy1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHB5LTEgei01MFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMiBib3JkZXItYiBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj57dXNlcj8ubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+e3VzZXI/LmVtYWlsfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMb2dvdXR9XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtbGVmdCBweC00IHB5LTIgdGV4dC1zbSB0ZXh0LXJlZC02MDAgaG92ZXI6YmctcmVkLTUwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIFNpZ24gT3V0XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L25hdj5cblxuICAgICAgey8qIE1vYmlsZSBIZWFkZXIgKi99XG4gICAgICA8aGVhZGVyIGNsYXNzTmFtZT1cIm1kOmhpZGRlbiBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTcwMCB0by1ibHVlLTYwMCB0ZXh0LXdoaXRlIHNoYWRvdy1zbSBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgc3RpY2t5IHRvcC0wIHotNTBcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC00IHB5LTNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1ib2xkIHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAge3JvdXRlci5wYXRobmFtZSA9PT0gJy8nID8gKFxuICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICBUb2RheXsnIC0gJ31cbiAgICAgICAgICAgICAgICAgIHtuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnZW4tVVMnLCB7IFxuICAgICAgICAgICAgICAgICAgICBtb250aDogJ3Nob3J0JywgXG4gICAgICAgICAgICAgICAgICAgIGRheTogJ251bWVyaWMnIFxuICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbi5maW5kKGl0ZW0gPT4gaXRlbS5ocmVmID09PSByb3V0ZXIucGF0aG5hbWUpPy5uYW1lIHx8ICdTdXBwbGVtZW50IFRyYWNrZXInXG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICB7LyogTW9iaWxlIFVzZXIgUHJvZmlsZSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIiByZWY9e21vYmlsZU1lbnVSZWZ9PlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd1VzZXJNZW51KCFzaG93VXNlck1lbnUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBwLTFcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLXdoaXRlIGJvcmRlciBib3JkZXItZ3JheS00MDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsYWNrIHRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAge3VzZXI/Lm5hbWU/LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpfVxuICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHtzaG93VXNlck1lbnUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgcmlnaHQtMCBtdC0yIHctNDggYmctd2hpdGUgcm91bmRlZC1sZyBzaGFkb3ctbGcgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBweS0xIHotNTBcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNCBweS0yIGJvcmRlci1iIGJvcmRlci1ncmF5LTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj57dXNlcj8ubmFtZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMFwiPnt1c2VyPy5lbWFpbH08L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTG9nb3V0fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgdGV4dC1sZWZ0IHB4LTQgcHktMiB0ZXh0LXNtIHRleHQtcmVkLTYwMCBob3ZlcjpiZy1yZWQtNTAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBTaWduIE91dFxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgey8qIE1haW4gQ29udGVudCAqL31cbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlblwiPntjaGlsZHJlbn08L21haW4+XG5cbiAgICAgIHsvKiBNb2JpbGUgQm90dG9tIE5hdmlnYXRpb24gKi99XG4gICAgICA8bmF2IGNsYXNzTmFtZT1cIm1kOmhpZGRlbiBmaXhlZCBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBiZy13aGl0ZSBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgei01MCBzYWZlLWFyZWEtYm90dG9tXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtNCBoLTE2XCI+XG4gICAgICAgICAge25hdmlnYXRpb24ubWFwKChpdGVtKSA9PiAoXG4gICAgICAgICAgICA8TGlua1xuICAgICAgICAgICAgICBrZXk9e2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgaHJlZj17aXRlbS5ocmVmfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzcGFjZS15LTEgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwICR7XG4gICAgICAgICAgICAgICAgcm91dGVyLnBhdGhuYW1lID09PSBpdGVtLmhyZWZcbiAgICAgICAgICAgICAgICAgID8gJ3RleHQtYmx1ZS02MDAgYmctYmx1ZS01MCdcbiAgICAgICAgICAgICAgICAgIDogJ3RleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTkwMCBhY3RpdmU6YmctZ3JheS0xMDAnXG4gICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhsXCI+e2l0ZW0ubW9iaWxlSWNvbn08L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteHMgZm9udC1tZWRpdW1cIj57aXRlbS5uYW1lfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L25hdj5cblxuICAgICAgey8qIERlc2t0b3AgRm9vdGVyICovfVxuICAgICAgPGZvb3RlciBjbGFzc05hbWU9XCJoaWRkZW4gbWQ6YmxvY2sgYmctd2hpdGUgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIG10LThcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy02eGwgbXgtYXV0byBweC00IHNtOnB4LTYgcHktNlwiPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgRGFpbHkgU3VwcGxlbWVudCBUcmFja2VyIC0gU3RheSBoZWFsdGh5ISDwn5KqXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZm9vdGVyPlxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJMaW5rIiwidXNlUm91dGVyIiwidXNlQXV0aCIsIkxheW91dCIsImNoaWxkcmVuIiwicm91dGVyIiwidXNlciIsImxvZ291dCIsImlzTG9hZGluZyIsInNob3dVc2VyTWVudSIsInNldFNob3dVc2VyTWVudSIsImRlc2t0b3BNZW51UmVmIiwibW9iaWxlTWVudVJlZiIsIm5hdmlnYXRpb24iLCJuYW1lIiwiaHJlZiIsImljb24iLCJtb2JpbGVJY29uIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZXZlbnQiLCJjbGlja2VkT3V0c2lkZURlc2t0b3AiLCJjdXJyZW50IiwiY29udGFpbnMiLCJ0YXJnZXQiLCJjbGlja2VkT3V0c2lkZU1vYmlsZSIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXYiLCJjbGFzc05hbWUiLCJzcGFuIiwicCIsImhhbmRsZUxvZ291dCIsInB1c2giLCJuYXYiLCJtYXAiLCJpdGVtIiwicGF0aG5hbWUiLCJyZWYiLCJidXR0b24iLCJvbkNsaWNrIiwiY2hhckF0IiwidG9VcHBlckNhc2UiLCJlbWFpbCIsImhlYWRlciIsImgxIiwiRGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIm1vbnRoIiwiZGF5IiwiZmluZCIsIm1haW4iLCJmb290ZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/Layout.tsx\n");

/***/ }),

/***/ "./contexts/AuthContextFirebase.tsx":
/*!******************************************!*\
  !*** ./contexts/AuthContextFirebase.tsx ***!
  \******************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_firebase_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/firebase-service */ \"./lib/firebase-service.ts\");\n/* harmony import */ var _utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/storage-enhanced */ \"./utils/storage-enhanced.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebase_service__WEBPACK_IMPORTED_MODULE_2__, _utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_3__]);\n([_lib_firebase_service__WEBPACK_IMPORTED_MODULE_2__, _utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// Enhanced AuthContext with Firebase integration\n\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction useAuth() {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n}\nconst USE_FIREBASE = \"true\" === \"true\";\nfunction AuthProvider({ children }) {\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (USE_FIREBASE) {\n            // Use Firebase auth state listener\n            const unsubscribe = (0,_lib_firebase_service__WEBPACK_IMPORTED_MODULE_2__.onAuthStateChange)((firebaseUser)=>{\n                setUser(firebaseUser);\n                setIsLoading(false);\n            });\n            return unsubscribe;\n        } else {\n            // Use localStorage session checking\n            const checkSession = ()=>{\n                const session = (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_3__.getCurrentSession)();\n                if (session) {\n                    // Convert session to user object\n                    const sessionUser = {\n                        id: session.userId,\n                        email: session.email,\n                        name: session.name,\n                        createdAt: new Date(),\n                        lastLoginAt: new Date()\n                    };\n                    setUser(sessionUser);\n                }\n                setIsLoading(false);\n            };\n            checkSession();\n        }\n    }, []);\n    const login = async (loginData)=>{\n        setIsLoading(true);\n        try {\n            if (USE_FIREBASE) {\n                const result = await (0,_lib_firebase_service__WEBPACK_IMPORTED_MODULE_2__.signInWithEmail)(loginData.email, loginData.password);\n                if (result.success && result.user) {\n                    setUser(result.user);\n                    return {\n                        success: true\n                    };\n                } else {\n                    return {\n                        success: false,\n                        error: result.error || \"Login failed\"\n                    };\n                }\n            } else {\n                // Use localStorage authentication\n                const result = (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_3__.loginUser)(loginData);\n                if (result.success && result.user) {\n                    const session = (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_3__.createSession)(result.user);\n                    setUser(result.user);\n                    return {\n                        success: true\n                    };\n                } else {\n                    return {\n                        success: false,\n                        error: result.error || \"Login failed\"\n                    };\n                }\n            }\n        } catch (error) {\n            return {\n                success: false,\n                error: error.message || \"Login failed\"\n            };\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const register = async (accountData)=>{\n        setIsLoading(true);\n        try {\n            if (USE_FIREBASE) {\n                const result = await (0,_lib_firebase_service__WEBPACK_IMPORTED_MODULE_2__.signUpWithEmail)(accountData.email, accountData.password, accountData.name);\n                if (result.success && result.user) {\n                    setUser(result.user);\n                    return {\n                        success: true\n                    };\n                } else {\n                    return {\n                        success: false,\n                        error: result.error || \"Registration failed\"\n                    };\n                }\n            } else {\n                // Use localStorage authentication\n                const result = (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_3__.createAccount)(accountData);\n                if (result.success && result.user) {\n                    const session = (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_3__.createSession)(result.user);\n                    setUser(result.user);\n                    return {\n                        success: true\n                    };\n                } else {\n                    return {\n                        success: false,\n                        error: result.error || \"Registration failed\"\n                    };\n                }\n            }\n        } catch (error) {\n            return {\n                success: false,\n                error: error.message || \"Registration failed\"\n            };\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const logout = async ()=>{\n        setIsLoading(true);\n        try {\n            if (USE_FIREBASE) {\n                await (0,_lib_firebase_service__WEBPACK_IMPORTED_MODULE_2__.signOut)();\n            } else {\n                (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_3__.logout)();\n            }\n            setUser(null);\n        } catch (error) {\n            console.error(\"Logout error:\", error);\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const value = {\n        user,\n        isAuthenticated: !!user,\n        isLoading,\n        login,\n        register,\n        logout\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/contexts/AuthContextFirebase.tsx\",\n        lineNumber: 165,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YXNlLnRzeD9kZTc5Il0sInNvdXJjZXNDb250ZW50IjpbIi8vIEVuaGFuY2VkIEF1dGhDb250ZXh0IHdpdGggRmlyZWJhc2UgaW50ZWdyYXRpb25cbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFxuICBVc2VyLCBcbiAgQ3JlYXRlQWNjb3VudERhdGEsIFxuICBMb2dpbkRhdGEsXG59IGZyb20gJy4uL3V0aWxzL3N0b3JhZ2UtZW5oYW5jZWQnXG5pbXBvcnQgeyBcbiAgc2lnblVwV2l0aEVtYWlsLCBcbiAgc2lnbkluV2l0aEVtYWlsLCBcbiAgc2lnbk91dCBhcyBmaXJlYmFzZVNpZ25PdXQsXG4gIG9uQXV0aFN0YXRlQ2hhbmdlIFxufSBmcm9tICcuLi9saWIvZmlyZWJhc2Utc2VydmljZSdcbmltcG9ydCB7IFxuICBjcmVhdGVBY2NvdW50LCBcbiAgbG9naW5Vc2VyLCBcbiAgY3JlYXRlU2Vzc2lvbiwgXG4gIGdldEN1cnJlbnRTZXNzaW9uLCBcbiAgbG9nb3V0IGFzIGxvY2FsTG9nb3V0IFxufSBmcm9tICcuLi91dGlscy9zdG9yYWdlLWVuaGFuY2VkJ1xuXG5pbnRlcmZhY2UgQXV0aENvbnRleHRUeXBlIHtcbiAgdXNlcjogVXNlciB8IG51bGxcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuXG4gIGlzTG9hZGluZzogYm9vbGVhblxuICBsb2dpbjogKGxvZ2luRGF0YTogTG9naW5EYXRhKSA9PiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT5cbiAgcmVnaXN0ZXI6IChhY2NvdW50RGF0YTogQ3JlYXRlQWNjb3VudERhdGEpID0+IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PlxuICBsb2dvdXQ6ICgpID0+IHZvaWRcbn1cblxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpIHtcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQXV0aENvbnRleHQpXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKVxuICB9XG4gIHJldHVybiBjb250ZXh0XG59XG5cbmNvbnN0IFVTRV9GSVJFQkFTRSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1VTRV9GSVJFQkFTRSA9PT0gJ3RydWUnXG5cbmV4cG9ydCBmdW5jdGlvbiBBdXRoUHJvdmlkZXIoeyBjaGlsZHJlbiB9OiB7IGNoaWxkcmVuOiBSZWFjdE5vZGUgfSkge1xuICBjb25zdCBbdXNlciwgc2V0VXNlcl0gPSB1c2VTdGF0ZTxVc2VyIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoVVNFX0ZJUkVCQVNFKSB7XG4gICAgICAvLyBVc2UgRmlyZWJhc2UgYXV0aCBzdGF0ZSBsaXN0ZW5lclxuICAgICAgY29uc3QgdW5zdWJzY3JpYmUgPSBvbkF1dGhTdGF0ZUNoYW5nZSgoZmlyZWJhc2VVc2VyKSA9PiB7XG4gICAgICAgIHNldFVzZXIoZmlyZWJhc2VVc2VyKVxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgICB9KVxuICAgICAgXG4gICAgICByZXR1cm4gdW5zdWJzY3JpYmVcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gVXNlIGxvY2FsU3RvcmFnZSBzZXNzaW9uIGNoZWNraW5nXG4gICAgICBjb25zdCBjaGVja1Nlc3Npb24gPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlc3Npb24gPSBnZXRDdXJyZW50U2Vzc2lvbigpXG4gICAgICAgIGlmIChzZXNzaW9uKSB7XG4gICAgICAgICAgLy8gQ29udmVydCBzZXNzaW9uIHRvIHVzZXIgb2JqZWN0XG4gICAgICAgICAgY29uc3Qgc2Vzc2lvblVzZXI6IFVzZXIgPSB7XG4gICAgICAgICAgICBpZDogc2Vzc2lvbi51c2VySWQsXG4gICAgICAgICAgICBlbWFpbDogc2Vzc2lvbi5lbWFpbCxcbiAgICAgICAgICAgIG5hbWU6IHNlc3Npb24ubmFtZSxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSwgLy8gV2UgZG9uJ3Qgc3RvcmUgdGhlc2UgaW4gc2Vzc2lvblxuICAgICAgICAgICAgbGFzdExvZ2luQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICB9XG4gICAgICAgICAgc2V0VXNlcihzZXNzaW9uVXNlcilcbiAgICAgICAgfVxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgICB9XG5cbiAgICAgIGNoZWNrU2Vzc2lvbigpXG4gICAgfVxuICB9LCBbXSlcblxuICBjb25zdCBsb2dpbiA9IGFzeW5jIChsb2dpbkRhdGE6IExvZ2luRGF0YSkgPT4ge1xuICAgIHNldElzTG9hZGluZyh0cnVlKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBpZiAoVVNFX0ZJUkVCQVNFKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNpZ25JbldpdGhFbWFpbChsb2dpbkRhdGEuZW1haWwsIGxvZ2luRGF0YS5wYXNzd29yZClcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC51c2VyKSB7XG4gICAgICAgICAgc2V0VXNlcihyZXN1bHQudXNlcilcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB8fCAnTG9naW4gZmFpbGVkJyB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVzZSBsb2NhbFN0b3JhZ2UgYXV0aGVudGljYXRpb25cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbG9naW5Vc2VyKGxvZ2luRGF0YSlcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC51c2VyKSB7XG4gICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IGNyZWF0ZVNlc3Npb24ocmVzdWx0LnVzZXIpXG4gICAgICAgICAgc2V0VXNlcihyZXN1bHQudXNlcilcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB8fCAnTG9naW4gZmFpbGVkJyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfHwgJ0xvZ2luIGZhaWxlZCcgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAoYWNjb3VudERhdGE6IENyZWF0ZUFjY291bnREYXRhKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIGlmIChVU0VfRklSRUJBU0UpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc2lnblVwV2l0aEVtYWlsKGFjY291bnREYXRhLmVtYWlsLCBhY2NvdW50RGF0YS5wYXNzd29yZCwgYWNjb3VudERhdGEubmFtZSlcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzICYmIHJlc3VsdC51c2VyKSB7XG4gICAgICAgICAgc2V0VXNlcihyZXN1bHQudXNlcilcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHJlc3VsdC5lcnJvciB8fCAnUmVnaXN0cmF0aW9uIGZhaWxlZCcgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBVc2UgbG9jYWxTdG9yYWdlIGF1dGhlbnRpY2F0aW9uXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGNyZWF0ZUFjY291bnQoYWNjb3VudERhdGEpXG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcyAmJiByZXN1bHQudXNlcikge1xuICAgICAgICAgIGNvbnN0IHNlc3Npb24gPSBjcmVhdGVTZXNzaW9uKHJlc3VsdC51c2VyKVxuICAgICAgICAgIHNldFVzZXIocmVzdWx0LnVzZXIpXG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiByZXN1bHQuZXJyb3IgfHwgJ1JlZ2lzdHJhdGlvbiBmYWlsZWQnIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnUmVnaXN0cmF0aW9uIGZhaWxlZCcgfVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgbG9nb3V0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldElzTG9hZGluZyh0cnVlKVxuICAgIFxuICAgIHRyeSB7XG4gICAgICBpZiAoVVNFX0ZJUkVCQVNFKSB7XG4gICAgICAgIGF3YWl0IGZpcmViYXNlU2lnbk91dCgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsb2NhbExvZ291dCgpXG4gICAgICB9XG4gICAgICBzZXRVc2VyKG51bGwpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ291dCBlcnJvcjonLCBlcnJvcilcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHZhbHVlID0ge1xuICAgIHVzZXIsXG4gICAgaXNBdXRoZW50aWNhdGVkOiAhIXVzZXIsXG4gICAgaXNMb2FkaW5nLFxuICAgIGxvZ2luLFxuICAgIHJlZ2lzdGVyLFxuICAgIGxvZ291dFxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0F1dGhDb250ZXh0LlByb3ZpZGVyPlxuICApXG59Il0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInNpZ25VcFdpdGhFbWFpbCIsInNpZ25JbldpdGhFbWFpbCIsInNpZ25PdXQiLCJmaXJlYmFzZVNpZ25PdXQiLCJvbkF1dGhTdGF0ZUNoYW5nZSIsImNyZWF0ZUFjY291bnQiLCJsb2dpblVzZXIiLCJjcmVhdGVTZXNzaW9uIiwiZ2V0Q3VycmVudFNlc3Npb24iLCJsb2dvdXQiLCJsb2NhbExvZ291dCIsIkF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwidXNlQXV0aCIsImNvbnRleHQiLCJFcnJvciIsIlVTRV9GSVJFQkFTRSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19VU0VfRklSRUJBU0UiLCJBdXRoUHJvdmlkZXIiLCJjaGlsZHJlbiIsInVzZXIiLCJzZXRVc2VyIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwidW5zdWJzY3JpYmUiLCJmaXJlYmFzZVVzZXIiLCJjaGVja1Nlc3Npb24iLCJzZXNzaW9uIiwic2Vzc2lvblVzZXIiLCJpZCIsInVzZXJJZCIsImVtYWlsIiwibmFtZSIsImNyZWF0ZWRBdCIsIkRhdGUiLCJsYXN0TG9naW5BdCIsImxvZ2luIiwibG9naW5EYXRhIiwicmVzdWx0IiwicGFzc3dvcmQiLCJzdWNjZXNzIiwiZXJyb3IiLCJtZXNzYWdlIiwicmVnaXN0ZXIiLCJhY2NvdW50RGF0YSIsImNvbnNvbGUiLCJ2YWx1ZSIsImlzQXV0aGVudGljYXRlZCIsIlByb3ZpZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./contexts/AuthContextFirebase.tsx\n");

/***/ }),

/***/ "./lib/firebase-service.ts":
/*!*********************************!*\
  !*** ./lib/firebase-service.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   convertFirebaseUser: () => (/* binding */ convertFirebaseUser),\n/* harmony export */   createSupplementFromLibrary: () => (/* binding */ createSupplementFromLibrary),\n/* harmony export */   getUserDailyDataFromFirebase: () => (/* binding */ getUserDailyDataFromFirebase),\n/* harmony export */   getUserSupplementLibraryFromFirebase: () => (/* binding */ getUserSupplementLibraryFromFirebase),\n/* harmony export */   getUserTodaysDataFromFirebase: () => (/* binding */ getUserTodaysDataFromFirebase),\n/* harmony export */   migrateLocalStorageToFirebase: () => (/* binding */ migrateLocalStorageToFirebase),\n/* harmony export */   onAuthStateChange: () => (/* binding */ onAuthStateChange),\n/* harmony export */   saveUserSupplementLibraryToFirebase: () => (/* binding */ saveUserSupplementLibraryToFirebase),\n/* harmony export */   signInWithEmail: () => (/* binding */ signInWithEmail),\n/* harmony export */   signOut: () => (/* binding */ signOut),\n/* harmony export */   signUpWithEmail: () => (/* binding */ signUpWithEmail),\n/* harmony export */   updateUserDateDataInFirebase: () => (/* binding */ updateUserDateDataInFirebase),\n/* harmony export */   updateUserTodaysDataInFirebase: () => (/* binding */ updateUserTodaysDataInFirebase)\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./firebase */ \"./lib/firebase.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, _firebase__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_firestore__WEBPACK_IMPORTED_MODULE_0__, firebase_auth__WEBPACK_IMPORTED_MODULE_1__, _firebase__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// Firebase database service functions\n\n\n\n// Collection names\nconst USERS_COLLECTION = \"users\";\nconst DAILY_DATA_COLLECTION = \"dailyData\";\nconst SUPPLEMENT_LIBRARY_COLLECTION = \"supplementLibraries\";\n// Firebase User type conversion\nfunction convertFirebaseUser(firebaseUser) {\n    return {\n        id: firebaseUser.uid,\n        email: firebaseUser.email || \"\",\n        name: firebaseUser.displayName || firebaseUser.email?.split(\"@\")[0] || \"User\",\n        createdAt: new Date(firebaseUser.metadata.creationTime || Date.now()),\n        lastLoginAt: new Date(firebaseUser.metadata.lastSignInTime || Date.now())\n    };\n}\n// Authentication functions\nasync function signUpWithEmail(email, password, name) {\n    try {\n        const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.createUserWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_2__.auth, email, password);\n        const firebaseUser = userCredential.user;\n        // Create user document in Firestore\n        const userData = {\n            id: firebaseUser.uid,\n            email: email,\n            name: name,\n            createdAt: new Date(),\n            lastLoginAt: new Date()\n        };\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, USERS_COLLECTION, firebaseUser.uid), userData);\n        return {\n            success: true,\n            user: userData\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\nasync function signInWithEmail(email, password) {\n    try {\n        const userCredential = await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.signInWithEmailAndPassword)(_firebase__WEBPACK_IMPORTED_MODULE_2__.auth, email, password);\n        const firebaseUser = userCredential.user;\n        // Update last login time\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, USERS_COLLECTION, firebaseUser.uid), {\n            lastLoginAt: new Date()\n        });\n        const user = convertFirebaseUser(firebaseUser);\n        return {\n            success: true,\n            user\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\nasync function signOut() {\n    try {\n        await (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.signOut)(_firebase__WEBPACK_IMPORTED_MODULE_2__.auth);\n        return {\n            success: true\n        };\n    } catch (error) {\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n// Auth state listener\nfunction onAuthStateChange(callback) {\n    return (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.onAuthStateChanged)(_firebase__WEBPACK_IMPORTED_MODULE_2__.auth, async (firebaseUser)=>{\n        if (firebaseUser) {\n            // Get full user data from Firestore\n            const userDoc = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, USERS_COLLECTION, firebaseUser.uid));\n            if (userDoc.exists()) {\n                callback(userDoc.data());\n            } else {\n                callback(convertFirebaseUser(firebaseUser));\n            }\n        } else {\n            callback(null);\n        }\n    });\n}\n// Daily data functions\nasync function getUserTodaysDataFromFirebase(userId) {\n    const today = new Date().toISOString().split(\"T\")[0];\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, DAILY_DATA_COLLECTION, `${userId}_${today}`);\n    try {\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (docSnap.exists()) {\n            const data = docSnap.data();\n            return {\n                date: data.date,\n                supplements: data.supplements.map((s)=>({\n                        ...s,\n                        takenAt: s.takenAt.toDate()\n                    }))\n            };\n        }\n    } catch (error) {\n        console.error(\"Error fetching today's data:\", error);\n    }\n    return {\n        date: today,\n        supplements: []\n    };\n}\nasync function updateUserTodaysDataInFirebase(userId, supplements) {\n    const today = new Date().toISOString().split(\"T\")[0];\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, DAILY_DATA_COLLECTION, `${userId}_${today}`);\n    try {\n        const data = {\n            date: today,\n            supplements: supplements.map((s)=>({\n                    ...s,\n                    takenAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.fromDate(s.takenAt)\n                }))\n        };\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, data);\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error updating today's data:\", error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\nasync function updateUserDateDataInFirebase(userId, dateString, supplements) {\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, DAILY_DATA_COLLECTION, `${userId}_${dateString}`);\n    try {\n        const data = {\n            date: dateString,\n            supplements: supplements.map((s)=>({\n                    ...s,\n                    takenAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.fromDate(s.takenAt)\n                }))\n        };\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, data);\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error updating date data:\", error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\nasync function getUserDailyDataFromFirebase(userId) {\n    try {\n        const q = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, DAILY_DATA_COLLECTION), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"__name__\", \">=\", `${userId}_`), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.where)(\"__name__\", \"<\", `${userId}_\\uf8ff`), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"__name__\"));\n        const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)(q);\n        const data = [];\n        querySnapshot.forEach((doc)=>{\n            const docData = doc.data();\n            data.push({\n                date: docData.date,\n                supplements: docData.supplements.map((s)=>({\n                        ...s,\n                        takenAt: s.takenAt.toDate()\n                    }))\n            });\n        });\n        return data.sort((a, b)=>new Date(a.date).getTime() - new Date(b.date).getTime());\n    } catch (error) {\n        console.error(\"Error fetching user daily data:\", error);\n        return [];\n    }\n}\n// Supplement library functions\nasync function getUserSupplementLibraryFromFirebase(userId) {\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, SUPPLEMENT_LIBRARY_COLLECTION, userId);\n    try {\n        const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n        if (docSnap.exists()) {\n            return docSnap.data().library || [];\n        }\n    } catch (error) {\n        console.error(\"Error fetching supplement library:\", error);\n    }\n    // Return default library if none exists\n    const defaultLibrary = getDefaultSupplementLibrary();\n    await saveUserSupplementLibraryToFirebase(userId, defaultLibrary);\n    return defaultLibrary;\n}\nasync function saveUserSupplementLibraryToFirebase(userId, library) {\n    const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, SUPPLEMENT_LIBRARY_COLLECTION, userId);\n    try {\n        await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n            library\n        });\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error saving supplement library:\", error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n// Default supplement library\nfunction getDefaultSupplementLibrary() {\n    return [\n        {\n            id: \"1\",\n            name: \"Vitamin D3\",\n            defaultDosage: \"2000 IU\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"2\",\n            name: \"Vitamin B12\",\n            defaultDosage: \"1000 mcg\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"3\",\n            name: \"Omega-3 Fish Oil\",\n            defaultDosage: \"1000 mg\",\n            category: \"Fatty Acids\"\n        },\n        {\n            id: \"4\",\n            name: \"Magnesium\",\n            defaultDosage: \"400 mg\",\n            category: \"Minerals\"\n        },\n        {\n            id: \"5\",\n            name: \"Vitamin C\",\n            defaultDosage: \"1000 mg\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"6\",\n            name: \"Zinc\",\n            defaultDosage: \"15 mg\",\n            category: \"Minerals\"\n        },\n        {\n            id: \"7\",\n            name: \"Probiotics\",\n            defaultDosage: \"10 billion CFU\",\n            category: \"Digestive\"\n        },\n        {\n            id: \"8\",\n            name: \"Multivitamin\",\n            defaultDosage: \"1 tablet\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"9\",\n            name: \"Calcium\",\n            defaultDosage: \"500 mg\",\n            category: \"Minerals\"\n        },\n        {\n            id: \"10\",\n            name: \"Iron\",\n            defaultDosage: \"18 mg\",\n            category: \"Minerals\"\n        },\n        {\n            id: \"11\",\n            name: \"Vitamin E\",\n            defaultDosage: \"400 IU\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"12\",\n            name: \"Biotin\",\n            defaultDosage: \"5000 mcg\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"13\",\n            name: \"Ashwagandha\",\n            defaultDosage: \"300 mg\",\n            category: \"Herbs\"\n        },\n        {\n            id: \"14\",\n            name: \"Turmeric\",\n            defaultDosage: \"500 mg\",\n            category: \"Herbs\"\n        },\n        {\n            id: \"15\",\n            name: \"CoQ10\",\n            defaultDosage: \"100 mg\",\n            category: \"Antioxidants\"\n        }\n    ];\n}\n// Utility function to create a supplement from library item\nfunction createSupplementFromLibrary(libraryItem, timeCategory) {\n    return {\n        id: Date.now().toString(),\n        name: libraryItem.name,\n        dosage: libraryItem.defaultDosage,\n        timeCategory: timeCategory,\n        takenAt: new Date(),\n        completed: false\n    };\n}\n// Migration function to move localStorage data to Firebase\nasync function migrateLocalStorageToFirebase(userId) {\n    try {\n        // Check if we already have Firebase data for this user\n        const existingData = await getUserDailyDataFromFirebase(userId);\n        if (existingData.length > 0) {\n            return {\n                success: true,\n                message: \"Data already exists in Firebase\"\n            };\n        }\n        // Get data from localStorage\n        const localStorageKeys = Object.keys(localStorage);\n        const batch = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.writeBatch)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db);\n        let migrated = 0;\n        for (const key of localStorageKeys){\n            if (key.startsWith(`user_${userId}_`) && !key.includes(\"library\") && !key.includes(\"session\")) {\n                try {\n                    const data = JSON.parse(localStorage.getItem(key) || \"{}\");\n                    if (data.date && data.supplements) {\n                        const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_2__.db, DAILY_DATA_COLLECTION, `${userId}_${data.date}`);\n                        batch.set(docRef, {\n                            date: data.date,\n                            supplements: data.supplements.map((s)=>({\n                                    ...s,\n                                    takenAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.Timestamp.fromDate(new Date(s.takenAt))\n                                }))\n                        });\n                        migrated++;\n                    }\n                } catch (error) {\n                    console.error(\"Error migrating data for key:\", key, error);\n                }\n            }\n        }\n        if (migrated > 0) {\n            await batch.commit();\n        }\n        return {\n            success: true,\n            message: `Migrated ${migrated} days of data`\n        };\n    } catch (error) {\n        console.error(\"Migration error:\", error);\n        return {\n            success: false,\n            error: error.message\n        };\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJRSxRQUFRLENBQUMsY0FBYyxDQUFDRixJQUFJRSxRQUFRLENBQUMsWUFBWTtnQkFDN0YsSUFBSTtvQkFDRixNQUFNcEQsT0FBT3FELEtBQUtDLEtBQUssQ0FBQ1AsYUFBYVEsT0FBTyxDQUFDTCxRQUFRO29CQUNyRCxJQUFJbEQsS0FBS08sSUFBSSxJQUFJUCxLQUFLUSxXQUFXLEVBQUU7d0JBQ2pDLE1BQU1ILFNBQVNyRCx1REFBR0EsQ0FBQ2UseUNBQUVBLEVBQUVHLHVCQUF1QixDQUFDLEVBQUVnQyxPQUFPLENBQUMsRUFBRUYsS0FBS08sSUFBSSxDQUFDLENBQUM7d0JBQ3RFeUMsTUFBTVEsR0FBRyxDQUFDbkQsUUFBUTs0QkFDaEJFLE1BQU1QLEtBQUtPLElBQUk7NEJBQ2ZDLGFBQWFSLEtBQUtRLFdBQVcsQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLElBQVk7b0NBQzdDLEdBQUdBLENBQUM7b0NBQ0pDLFNBQVNuRCx5REFBU0EsQ0FBQ3VELFFBQVEsQ0FBQyxJQUFJbEMsS0FBSzZCLEVBQUVDLE9BQU87Z0NBQ2hEO3dCQUNGO3dCQUNBc0M7b0JBQ0Y7Z0JBQ0YsRUFBRSxPQUFPeEQsT0FBTztvQkFDZG9CLFFBQVFwQixLQUFLLENBQUMsaUNBQWlDeUQsS0FBS3pEO2dCQUN0RDtZQUNGO1FBQ0Y7UUFFQSxJQUFJd0QsV0FBVyxHQUFHO1lBQ2hCLE1BQU1ELE1BQU1TLE1BQU07UUFDcEI7UUFFQSxPQUFPO1lBQUVqRSxTQUFTO1lBQU1FLFNBQVMsQ0FBQyxTQUFTLEVBQUV1RCxTQUFTLGFBQWEsQ0FBQztRQUFDO0lBQ3ZFLEVBQUUsT0FBT3hELE9BQVk7UUFDbkJvQixRQUFRcEIsS0FBSyxDQUFDLG9CQUFvQkE7UUFDbEMsT0FBTztZQUFFRCxTQUFTO1lBQU9DLE9BQU9BLE1BQU1DLE9BQU87UUFBQztJQUNoRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3VwcGxlbWVudC10cmFja2VyLy4vbGliL2ZpcmViYXNlLXNlcnZpY2UudHM/NmNhYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaXJlYmFzZSBkYXRhYmFzZSBzZXJ2aWNlIGZ1bmN0aW9uc1xuaW1wb3J0IHsgXG4gIGNvbGxlY3Rpb24sIFxuICBkb2MsIFxuICBnZXREb2MsIFxuICBzZXREb2MsIFxuICB1cGRhdGVEb2MsIFxuICBkZWxldGVEb2MsIFxuICBnZXREb2NzLCBcbiAgcXVlcnksIFxuICB3aGVyZSwgXG4gIG9yZGVyQnksXG4gIFRpbWVzdGFtcCxcbiAgd3JpdGVCYXRjaFxufSBmcm9tICdmaXJlYmFzZS9maXJlc3RvcmUnXG5pbXBvcnQgeyBcbiAgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQsIFxuICBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQsIFxuICBzaWduT3V0IGFzIGZpcmViYXNlU2lnbk91dCxcbiAgVXNlciBhcyBGaXJlYmFzZVVzZXIsXG4gIG9uQXV0aFN0YXRlQ2hhbmdlZFxufSBmcm9tICdmaXJlYmFzZS9hdXRoJ1xuaW1wb3J0IHsgZGIsIGF1dGggfSBmcm9tICcuL2ZpcmViYXNlJ1xuaW1wb3J0IHsgVXNlciwgRGF5RGF0YSwgU3VwcGxlbWVudCwgU3VwcGxlbWVudExpYnJhcnlJdGVtLCBUaW1lQ2F0ZWdvcnkgfSBmcm9tICcuLi91dGlscy9zdG9yYWdlJ1xuXG4vLyBDb2xsZWN0aW9uIG5hbWVzXG5jb25zdCBVU0VSU19DT0xMRUNUSU9OID0gJ3VzZXJzJ1xuY29uc3QgREFJTFlfREFUQV9DT0xMRUNUSU9OID0gJ2RhaWx5RGF0YSdcbmNvbnN0IFNVUFBMRU1FTlRfTElCUkFSWV9DT0xMRUNUSU9OID0gJ3N1cHBsZW1lbnRMaWJyYXJpZXMnXG5cbi8vIEZpcmViYXNlIFVzZXIgdHlwZSBjb252ZXJzaW9uXG5leHBvcnQgZnVuY3Rpb24gY29udmVydEZpcmViYXNlVXNlcihmaXJlYmFzZVVzZXI6IEZpcmViYXNlVXNlcik6IFVzZXIge1xuICByZXR1cm4ge1xuICAgIGlkOiBmaXJlYmFzZVVzZXIudWlkLFxuICAgIGVtYWlsOiBmaXJlYmFzZVVzZXIuZW1haWwgfHwgJycsXG4gICAgbmFtZTogZmlyZWJhc2VVc2VyLmRpc3BsYXlOYW1lIHx8IGZpcmViYXNlVXNlci5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnVXNlcicsXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZShmaXJlYmFzZVVzZXIubWV0YWRhdGEuY3JlYXRpb25UaW1lIHx8IERhdGUubm93KCkpLFxuICAgIGxhc3RMb2dpbkF0OiBuZXcgRGF0ZShmaXJlYmFzZVVzZXIubWV0YWRhdGEubGFzdFNpZ25JblRpbWUgfHwgRGF0ZS5ub3coKSlcbiAgfVxufVxuXG4vLyBBdXRoZW50aWNhdGlvbiBmdW5jdGlvbnNcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduVXBXaXRoRW1haWwoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgbmFtZTogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgdXNlckNyZWRlbnRpYWwgPSBhd2FpdCBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKVxuICAgIGNvbnN0IGZpcmViYXNlVXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXJcbiAgICBcbiAgICAvLyBDcmVhdGUgdXNlciBkb2N1bWVudCBpbiBGaXJlc3RvcmVcbiAgICBjb25zdCB1c2VyRGF0YTogVXNlciA9IHtcbiAgICAgIGlkOiBmaXJlYmFzZVVzZXIudWlkLFxuICAgICAgZW1haWw6IGVtYWlsLFxuICAgICAgbmFtZTogbmFtZSxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgIGxhc3RMb2dpbkF0OiBuZXcgRGF0ZSgpXG4gICAgfVxuICAgIFxuICAgIGF3YWl0IHNldERvYyhkb2MoZGIsIFVTRVJTX0NPTExFQ1RJT04sIGZpcmViYXNlVXNlci51aWQpLCB1c2VyRGF0YSlcbiAgICBcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB1c2VyOiB1c2VyRGF0YSB9XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoRW1haWwoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykge1xuICB0cnkge1xuICAgIGNvbnN0IHVzZXJDcmVkZW50aWFsID0gYXdhaXQgc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3N3b3JkKVxuICAgIGNvbnN0IGZpcmViYXNlVXNlciA9IHVzZXJDcmVkZW50aWFsLnVzZXJcbiAgICBcbiAgICAvLyBVcGRhdGUgbGFzdCBsb2dpbiB0aW1lXG4gICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgVVNFUlNfQ09MTEVDVElPTiwgZmlyZWJhc2VVc2VyLnVpZCksIHtcbiAgICAgIGxhc3RMb2dpbkF0OiBuZXcgRGF0ZSgpXG4gICAgfSlcbiAgICBcbiAgICBjb25zdCB1c2VyID0gY29udmVydEZpcmViYXNlVXNlcihmaXJlYmFzZVVzZXIpXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdXNlciB9XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduT3V0KCkge1xuICB0cnkge1xuICAgIGF3YWl0IGZpcmViYXNlU2lnbk91dChhdXRoKVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH1cbiAgfVxufVxuXG4vLyBBdXRoIHN0YXRlIGxpc3RlbmVyXG5leHBvcnQgZnVuY3Rpb24gb25BdXRoU3RhdGVDaGFuZ2UoY2FsbGJhY2s6ICh1c2VyOiBVc2VyIHwgbnVsbCkgPT4gdm9pZCkge1xuICByZXR1cm4gb25BdXRoU3RhdGVDaGFuZ2VkKGF1dGgsIGFzeW5jIChmaXJlYmFzZVVzZXIpID0+IHtcbiAgICBpZiAoZmlyZWJhc2VVc2VyKSB7XG4gICAgICAvLyBHZXQgZnVsbCB1c2VyIGRhdGEgZnJvbSBGaXJlc3RvcmVcbiAgICAgIGNvbnN0IHVzZXJEb2MgPSBhd2FpdCBnZXREb2MoZG9jKGRiLCBVU0VSU19DT0xMRUNUSU9OLCBmaXJlYmFzZVVzZXIudWlkKSlcbiAgICAgIGlmICh1c2VyRG9jLmV4aXN0cygpKSB7XG4gICAgICAgIGNhbGxiYWNrKHVzZXJEb2MuZGF0YSgpIGFzIFVzZXIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhjb252ZXJ0RmlyZWJhc2VVc2VyKGZpcmViYXNlVXNlcikpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKG51bGwpXG4gICAgfVxuICB9KVxufVxuXG4vLyBEYWlseSBkYXRhIGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJUb2RheXNEYXRhRnJvbUZpcmViYXNlKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxEYXlEYXRhPiB7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBEQUlMWV9EQVRBX0NPTExFQ1RJT04sIGAke3VzZXJJZH1fJHt0b2RheX1gKVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZilcbiAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgY29uc3QgZGF0YSA9IGRvY1NuYXAuZGF0YSgpXG4gICAgICByZXR1cm4ge1xuICAgICAgICBkYXRlOiBkYXRhLmRhdGUsXG4gICAgICAgIHN1cHBsZW1lbnRzOiBkYXRhLnN1cHBsZW1lbnRzLm1hcCgoczogYW55KSA9PiAoe1xuICAgICAgICAgIC4uLnMsXG4gICAgICAgICAgdGFrZW5BdDogcy50YWtlbkF0LnRvRGF0ZSgpXG4gICAgICAgIH0pKVxuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB0b2RheVxcJ3MgZGF0YTonLCBlcnJvcilcbiAgfVxuICBcbiAgcmV0dXJuIHsgZGF0ZTogdG9kYXksIHN1cHBsZW1lbnRzOiBbXSB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyVG9kYXlzRGF0YUluRmlyZWJhc2UodXNlcklkOiBzdHJpbmcsIHN1cHBsZW1lbnRzOiBTdXBwbGVtZW50W10pIHtcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxuICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIERBSUxZX0RBVEFfQ09MTEVDVElPTiwgYCR7dXNlcklkfV8ke3RvZGF5fWApXG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGRhdGE6IERheURhdGEgPSB7IFxuICAgICAgZGF0ZTogdG9kYXksIFxuICAgICAgc3VwcGxlbWVudHM6IHN1cHBsZW1lbnRzLm1hcChzID0+ICh7XG4gICAgICAgIC4uLnMsXG4gICAgICAgIHRha2VuQXQ6IFRpbWVzdGFtcC5mcm9tRGF0ZShzLnRha2VuQXQpXG4gICAgICB9KSkgYXMgYW55XG4gICAgfVxuICAgIFxuICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIGRhdGEpXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB0b2RheVxcJ3MgZGF0YTonLCBlcnJvcilcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyRGF0ZURhdGFJbkZpcmViYXNlKHVzZXJJZDogc3RyaW5nLCBkYXRlU3RyaW5nOiBzdHJpbmcsIHN1cHBsZW1lbnRzOiBTdXBwbGVtZW50W10pIHtcbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBEQUlMWV9EQVRBX0NPTExFQ1RJT04sIGAke3VzZXJJZH1fJHtkYXRlU3RyaW5nfWApXG4gIFxuICB0cnkge1xuICAgIGNvbnN0IGRhdGE6IERheURhdGEgPSB7IFxuICAgICAgZGF0ZTogZGF0ZVN0cmluZywgXG4gICAgICBzdXBwbGVtZW50czogc3VwcGxlbWVudHMubWFwKHMgPT4gKHtcbiAgICAgICAgLi4ucyxcbiAgICAgICAgdGFrZW5BdDogVGltZXN0YW1wLmZyb21EYXRlKHMudGFrZW5BdClcbiAgICAgIH0pKSBhcyBhbnlcbiAgICB9XG4gICAgXG4gICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwgZGF0YSlcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIGRhdGUgZGF0YTonLCBlcnJvcilcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyRGFpbHlEYXRhRnJvbUZpcmViYXNlKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxEYXlEYXRhW10+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBxID0gcXVlcnkoXG4gICAgICBjb2xsZWN0aW9uKGRiLCBEQUlMWV9EQVRBX0NPTExFQ1RJT04pLFxuICAgICAgd2hlcmUoJ19fbmFtZV9fJywgJz49JywgYCR7dXNlcklkfV9gKSxcbiAgICAgIHdoZXJlKCdfX25hbWVfXycsICc8JywgYCR7dXNlcklkfV9cXHVmOGZmYCksXG4gICAgICBvcmRlckJ5KCdfX25hbWVfXycpXG4gICAgKVxuICAgIFxuICAgIGNvbnN0IHF1ZXJ5U25hcHNob3QgPSBhd2FpdCBnZXREb2NzKHEpXG4gICAgY29uc3QgZGF0YTogRGF5RGF0YVtdID0gW11cbiAgICBcbiAgICBxdWVyeVNuYXBzaG90LmZvckVhY2goKGRvYykgPT4ge1xuICAgICAgY29uc3QgZG9jRGF0YSA9IGRvYy5kYXRhKClcbiAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgIGRhdGU6IGRvY0RhdGEuZGF0ZSxcbiAgICAgICAgc3VwcGxlbWVudHM6IGRvY0RhdGEuc3VwcGxlbWVudHMubWFwKChzOiBhbnkpID0+ICh7XG4gICAgICAgICAgLi4ucyxcbiAgICAgICAgICB0YWtlbkF0OiBzLnRha2VuQXQudG9EYXRlKClcbiAgICAgICAgfSkpXG4gICAgICB9KVxuICAgIH0pXG4gICAgXG4gICAgcmV0dXJuIGRhdGEuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYS5kYXRlKS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShiLmRhdGUpLmdldFRpbWUoKSlcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyIGRhaWx5IGRhdGE6JywgZXJyb3IpXG4gICAgcmV0dXJuIFtdXG4gIH1cbn1cblxuLy8gU3VwcGxlbWVudCBsaWJyYXJ5IGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJTdXBwbGVtZW50TGlicmFyeUZyb21GaXJlYmFzZSh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8U3VwcGxlbWVudExpYnJhcnlJdGVtW10+IHtcbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBTVVBQTEVNRU5UX0xJQlJBUllfQ09MTEVDVElPTiwgdXNlcklkKVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZilcbiAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgcmV0dXJuIGRvY1NuYXAuZGF0YSgpLmxpYnJhcnkgfHwgW11cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgc3VwcGxlbWVudCBsaWJyYXJ5OicsIGVycm9yKVxuICB9XG4gIFxuICAvLyBSZXR1cm4gZGVmYXVsdCBsaWJyYXJ5IGlmIG5vbmUgZXhpc3RzXG4gIGNvbnN0IGRlZmF1bHRMaWJyYXJ5ID0gZ2V0RGVmYXVsdFN1cHBsZW1lbnRMaWJyYXJ5KClcbiAgYXdhaXQgc2F2ZVVzZXJTdXBwbGVtZW50TGlicmFyeVRvRmlyZWJhc2UodXNlcklkLCBkZWZhdWx0TGlicmFyeSlcbiAgcmV0dXJuIGRlZmF1bHRMaWJyYXJ5XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlVXNlclN1cHBsZW1lbnRMaWJyYXJ5VG9GaXJlYmFzZSh1c2VySWQ6IHN0cmluZywgbGlicmFyeTogU3VwcGxlbWVudExpYnJhcnlJdGVtW10pIHtcbiAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBTVVBQTEVNRU5UX0xJQlJBUllfQ09MTEVDVElPTiwgdXNlcklkKVxuICBcbiAgdHJ5IHtcbiAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7IGxpYnJhcnkgfSlcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBzdXBwbGVtZW50IGxpYnJhcnk6JywgZXJyb3IpXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvci5tZXNzYWdlIH1cbiAgfVxufVxuXG4vLyBEZWZhdWx0IHN1cHBsZW1lbnQgbGlicmFyeVxuZnVuY3Rpb24gZ2V0RGVmYXVsdFN1cHBsZW1lbnRMaWJyYXJ5KCk6IFN1cHBsZW1lbnRMaWJyYXJ5SXRlbVtdIHtcbiAgcmV0dXJuIFtcbiAgICB7IGlkOiAnMScsIG5hbWU6ICdWaXRhbWluIEQzJywgZGVmYXVsdERvc2FnZTogJzIwMDAgSVUnLCBjYXRlZ29yeTogJ1ZpdGFtaW5zJyB9LFxuICAgIHsgaWQ6ICcyJywgbmFtZTogJ1ZpdGFtaW4gQjEyJywgZGVmYXVsdERvc2FnZTogJzEwMDAgbWNnJywgY2F0ZWdvcnk6ICdWaXRhbWlucycgfSxcbiAgICB7IGlkOiAnMycsIG5hbWU6ICdPbWVnYS0zIEZpc2ggT2lsJywgZGVmYXVsdERvc2FnZTogJzEwMDAgbWcnLCBjYXRlZ29yeTogJ0ZhdHR5IEFjaWRzJyB9LFxuICAgIHsgaWQ6ICc0JywgbmFtZTogJ01hZ25lc2l1bScsIGRlZmF1bHREb3NhZ2U6ICc0MDAgbWcnLCBjYXRlZ29yeTogJ01pbmVyYWxzJyB9LFxuICAgIHsgaWQ6ICc1JywgbmFtZTogJ1ZpdGFtaW4gQycsIGRlZmF1bHREb3NhZ2U6ICcxMDAwIG1nJywgY2F0ZWdvcnk6ICdWaXRhbWlucycgfSxcbiAgICB7IGlkOiAnNicsIG5hbWU6ICdaaW5jJywgZGVmYXVsdERvc2FnZTogJzE1IG1nJywgY2F0ZWdvcnk6ICdNaW5lcmFscycgfSxcbiAgICB7IGlkOiAnNycsIG5hbWU6ICdQcm9iaW90aWNzJywgZGVmYXVsdERvc2FnZTogJzEwIGJpbGxpb24gQ0ZVJywgY2F0ZWdvcnk6ICdEaWdlc3RpdmUnIH0sXG4gICAgeyBpZDogJzgnLCBuYW1lOiAnTXVsdGl2aXRhbWluJywgZGVmYXVsdERvc2FnZTogJzEgdGFibGV0JywgY2F0ZWdvcnk6ICdWaXRhbWlucycgfSxcbiAgICB7IGlkOiAnOScsIG5hbWU6ICdDYWxjaXVtJywgZGVmYXVsdERvc2FnZTogJzUwMCBtZycsIGNhdGVnb3J5OiAnTWluZXJhbHMnIH0sXG4gICAgeyBpZDogJzEwJywgbmFtZTogJ0lyb24nLCBkZWZhdWx0RG9zYWdlOiAnMTggbWcnLCBjYXRlZ29yeTogJ01pbmVyYWxzJyB9LFxuICAgIHsgaWQ6ICcxMScsIG5hbWU6ICdWaXRhbWluIEUnLCBkZWZhdWx0RG9zYWdlOiAnNDAwIElVJywgY2F0ZWdvcnk6ICdWaXRhbWlucycgfSxcbiAgICB7IGlkOiAnMTInLCBuYW1lOiAnQmlvdGluJywgZGVmYXVsdERvc2FnZTogJzUwMDAgbWNnJywgY2F0ZWdvcnk6ICdWaXRhbWlucycgfSxcbiAgICB7IGlkOiAnMTMnLCBuYW1lOiAnQXNod2FnYW5kaGEnLCBkZWZhdWx0RG9zYWdlOiAnMzAwIG1nJywgY2F0ZWdvcnk6ICdIZXJicycgfSxcbiAgICB7IGlkOiAnMTQnLCBuYW1lOiAnVHVybWVyaWMnLCBkZWZhdWx0RG9zYWdlOiAnNTAwIG1nJywgY2F0ZWdvcnk6ICdIZXJicycgfSxcbiAgICB7IGlkOiAnMTUnLCBuYW1lOiAnQ29RMTAnLCBkZWZhdWx0RG9zYWdlOiAnMTAwIG1nJywgY2F0ZWdvcnk6ICdBbnRpb3hpZGFudHMnIH1cbiAgXVxufVxuXG4vLyBVdGlsaXR5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIHN1cHBsZW1lbnQgZnJvbSBsaWJyYXJ5IGl0ZW1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTdXBwbGVtZW50RnJvbUxpYnJhcnkobGlicmFyeUl0ZW06IFN1cHBsZW1lbnRMaWJyYXJ5SXRlbSwgdGltZUNhdGVnb3J5OiBUaW1lQ2F0ZWdvcnkpOiBTdXBwbGVtZW50IHtcbiAgcmV0dXJuIHtcbiAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgIG5hbWU6IGxpYnJhcnlJdGVtLm5hbWUsXG4gICAgZG9zYWdlOiBsaWJyYXJ5SXRlbS5kZWZhdWx0RG9zYWdlLFxuICAgIHRpbWVDYXRlZ29yeTogdGltZUNhdGVnb3J5LFxuICAgIHRha2VuQXQ6IG5ldyBEYXRlKCksXG4gICAgY29tcGxldGVkOiBmYWxzZVxuICB9XG59XG5cbi8vIE1pZ3JhdGlvbiBmdW5jdGlvbiB0byBtb3ZlIGxvY2FsU3RvcmFnZSBkYXRhIHRvIEZpcmViYXNlXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZUxvY2FsU3RvcmFnZVRvRmlyZWJhc2UodXNlcklkOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICAvLyBDaGVjayBpZiB3ZSBhbHJlYWR5IGhhdmUgRmlyZWJhc2UgZGF0YSBmb3IgdGhpcyB1c2VyXG4gICAgY29uc3QgZXhpc3RpbmdEYXRhID0gYXdhaXQgZ2V0VXNlckRhaWx5RGF0YUZyb21GaXJlYmFzZSh1c2VySWQpXG4gICAgaWYgKGV4aXN0aW5nRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBtZXNzYWdlOiAnRGF0YSBhbHJlYWR5IGV4aXN0cyBpbiBGaXJlYmFzZScgfVxuICAgIH1cblxuICAgIC8vIEdldCBkYXRhIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgY29uc3QgbG9jYWxTdG9yYWdlS2V5cyA9IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSlcbiAgICBjb25zdCBiYXRjaCA9IHdyaXRlQmF0Y2goZGIpXG4gICAgbGV0IG1pZ3JhdGVkID0gMFxuXG4gICAgZm9yIChjb25zdCBrZXkgb2YgbG9jYWxTdG9yYWdlS2V5cykge1xuICAgICAgaWYgKGtleS5zdGFydHNXaXRoKGB1c2VyXyR7dXNlcklkfV9gKSAmJiAha2V5LmluY2x1ZGVzKCdsaWJyYXJ5JykgJiYgIWtleS5pbmNsdWRlcygnc2Vzc2lvbicpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSB8fCAne30nKVxuICAgICAgICAgIGlmIChkYXRhLmRhdGUgJiYgZGF0YS5zdXBwbGVtZW50cykge1xuICAgICAgICAgICAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBEQUlMWV9EQVRBX0NPTExFQ1RJT04sIGAke3VzZXJJZH1fJHtkYXRhLmRhdGV9YClcbiAgICAgICAgICAgIGJhdGNoLnNldChkb2NSZWYsIHtcbiAgICAgICAgICAgICAgZGF0ZTogZGF0YS5kYXRlLFxuICAgICAgICAgICAgICBzdXBwbGVtZW50czogZGF0YS5zdXBwbGVtZW50cy5tYXAoKHM6IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgIHRha2VuQXQ6IFRpbWVzdGFtcC5mcm9tRGF0ZShuZXcgRGF0ZShzLnRha2VuQXQpKVxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBtaWdyYXRlZCsrXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1pZ3JhdGluZyBkYXRhIGZvciBrZXk6Jywga2V5LCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChtaWdyYXRlZCA+IDApIHtcbiAgICAgIGF3YWl0IGJhdGNoLmNvbW1pdCgpXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbWVzc2FnZTogYE1pZ3JhdGVkICR7bWlncmF0ZWR9IGRheXMgb2YgZGF0YWAgfVxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignTWlncmF0aW9uIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9XG4gIH1cbn0iXSwibmFtZXMiOlsiY29sbGVjdGlvbiIsImRvYyIsImdldERvYyIsInNldERvYyIsInVwZGF0ZURvYyIsImdldERvY3MiLCJxdWVyeSIsIndoZXJlIiwib3JkZXJCeSIsIlRpbWVzdGFtcCIsIndyaXRlQmF0Y2giLCJzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZCIsImNyZWF0ZVVzZXJXaXRoRW1haWxBbmRQYXNzd29yZCIsInNpZ25PdXQiLCJmaXJlYmFzZVNpZ25PdXQiLCJvbkF1dGhTdGF0ZUNoYW5nZWQiLCJkYiIsImF1dGgiLCJVU0VSU19DT0xMRUNUSU9OIiwiREFJTFlfREFUQV9DT0xMRUNUSU9OIiwiU1VQUExFTUVOVF9MSUJSQVJZX0NPTExFQ1RJT04iLCJjb252ZXJ0RmlyZWJhc2VVc2VyIiwiZmlyZWJhc2VVc2VyIiwiaWQiLCJ1aWQiLCJlbWFpbCIsIm5hbWUiLCJkaXNwbGF5TmFtZSIsInNwbGl0IiwiY3JlYXRlZEF0IiwiRGF0ZSIsIm1ldGFkYXRhIiwiY3JlYXRpb25UaW1lIiwibm93IiwibGFzdExvZ2luQXQiLCJsYXN0U2lnbkluVGltZSIsInNpZ25VcFdpdGhFbWFpbCIsInBhc3N3b3JkIiwidXNlckNyZWRlbnRpYWwiLCJ1c2VyIiwidXNlckRhdGEiLCJzdWNjZXNzIiwiZXJyb3IiLCJtZXNzYWdlIiwic2lnbkluV2l0aEVtYWlsIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJjYWxsYmFjayIsInVzZXJEb2MiLCJleGlzdHMiLCJkYXRhIiwiZ2V0VXNlclRvZGF5c0RhdGFGcm9tRmlyZWJhc2UiLCJ1c2VySWQiLCJ0b2RheSIsInRvSVNPU3RyaW5nIiwiZG9jUmVmIiwiZG9jU25hcCIsImRhdGUiLCJzdXBwbGVtZW50cyIsIm1hcCIsInMiLCJ0YWtlbkF0IiwidG9EYXRlIiwiY29uc29sZSIsInVwZGF0ZVVzZXJUb2RheXNEYXRhSW5GaXJlYmFzZSIsImZyb21EYXRlIiwidXBkYXRlVXNlckRhdGVEYXRhSW5GaXJlYmFzZSIsImRhdGVTdHJpbmciLCJnZXRVc2VyRGFpbHlEYXRhRnJvbUZpcmViYXNlIiwicSIsInF1ZXJ5U25hcHNob3QiLCJmb3JFYWNoIiwiZG9jRGF0YSIsInB1c2giLCJzb3J0IiwiYSIsImIiLCJnZXRUaW1lIiwiZ2V0VXNlclN1cHBsZW1lbnRMaWJyYXJ5RnJvbUZpcmViYXNlIiwibGlicmFyeSIsImRlZmF1bHRMaWJyYXJ5IiwiZ2V0RGVmYXVsdFN1cHBsZW1lbnRMaWJyYXJ5Iiwic2F2ZVVzZXJTdXBwbGVtZW50TGlicmFyeVRvRmlyZWJhc2UiLCJkZWZhdWx0RG9zYWdlIiwiY2F0ZWdvcnkiLCJjcmVhdGVTdXBwbGVtZW50RnJvbUxpYnJhcnkiLCJsaWJyYXJ5SXRlbSIsInRpbWVDYXRlZ29yeSIsInRvU3RyaW5nIiwiZG9zYWdlIiwiY29tcGxldGVkIiwibWlncmF0ZUxvY2FsU3RvcmFnZVRvRmlyZWJhc2UiLCJleGlzdGluZ0RhdGEiLCJsZW5ndGgiLCJsb2NhbFN0b3JhZ2VLZXlzIiwiT2JqZWN0Iiwia2V5cyIsImxvY2FsU3RvcmFnZSIsImJhdGNoIiwibWlncmF0ZWQiLCJrZXkiLCJzdGFydHNXaXRoIiwiaW5jbHVkZXMiLCJKU09OIiwicGFyc2UiLCJnZXRJdGVtIiwic2V0IiwiY29tbWl0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/firebase-service.ts\n");

/***/ }),

/***/ "./lib/firebase.ts":
/*!*************************!*\
  !*** ./lib/firebase.ts ***!
  \*************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"firebase/app\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/firestore */ \"firebase/firestore\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ \"firebase/auth\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_auth__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_app__WEBPACK_IMPORTED_MODULE_0__, firebase_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_auth__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n// Firebase configuration and initialization\n\n\n\n// Firebase configuration object\n// These values should be replaced with your actual Firebase project configuration\nconst firebaseConfig = {\n    apiKey: \"AIzaSyC-S2zbQVAUWHcDtX-K3yaIuMU0eCE6e6o\" || 0,\n    authDomain: \"daily-supplement-tracker.firebaseapp.com\" || 0,\n    projectId: \"daily-supplement-tracker\" || 0,\n    storageBucket: \"daily-supplement-tracker.firebasestorage.app\" || 0,\n    messagingSenderId: \"123456789000\" || 0,\n    appId: \"1:123456789000:web:abcdef123456789\" || 0\n};\n// Initialize Firebase\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\n// Initialize Firebase services\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\n// Export the app instance\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (app);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvZmlyZWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsNENBQTRDO0FBQ0E7QUFDSztBQUNWO0FBRXZDLGdDQUFnQztBQUNoQyxrRkFBa0Y7QUFDbEYsTUFBTUcsaUJBQWlCO0lBQ3JCQyxRQUFRQyx5Q0FBd0MsSUFBSSxDQUFjO0lBQ2xFRyxZQUFZSCwwQ0FBNEMsSUFBSSxDQUF5QztJQUNyR0ssV0FBV0wsMEJBQTJDLElBQUksQ0FBeUI7SUFDbkZPLGVBQWVQLDhDQUErQyxJQUFJLENBQXFDO0lBQ3ZHUyxtQkFBbUJULGNBQW9ELElBQUksQ0FBYztJQUN6RlcsT0FBT1gsb0NBQXVDLElBQUksQ0FBb0M7QUFDeEY7QUFFQSxzQkFBc0I7QUFDdEIsTUFBTWEsTUFBTWxCLDJEQUFhQSxDQUFDRztBQUUxQiwrQkFBK0I7QUFDeEIsTUFBTWdCLEtBQUtsQixnRUFBWUEsQ0FBQ2lCLEtBQUk7QUFDNUIsTUFBTUUsT0FBT2xCLHNEQUFPQSxDQUFDZ0IsS0FBSTtBQUVoQywwQkFBMEI7QUFDMUIsaUVBQWVBLEdBQUdBLEVBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBwbGVtZW50LXRyYWNrZXIvLi9saWIvZmlyZWJhc2UudHM/NWQyMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBGaXJlYmFzZSBjb25maWd1cmF0aW9uIGFuZCBpbml0aWFsaXphdGlvblxuaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gJ2ZpcmViYXNlL2FwcCdcbmltcG9ydCB7IGdldEZpcmVzdG9yZSB9IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSdcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS9hdXRoJ1xuXG4vLyBGaXJlYmFzZSBjb25maWd1cmF0aW9uIG9iamVjdFxuLy8gVGhlc2UgdmFsdWVzIHNob3VsZCBiZSByZXBsYWNlZCB3aXRoIHlvdXIgYWN0dWFsIEZpcmViYXNlIHByb2plY3QgY29uZmlndXJhdGlvblxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBJX0tFWSB8fCBcImRlbW8tYXBpLWtleVwiLFxuICBhdXRoRG9tYWluOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BVVRIX0RPTUFJTiB8fCBcInN1cHBsZW1lbnQtdHJhY2tlci1kZW1vLmZpcmViYXNlYXBwLmNvbVwiLFxuICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZJUkVCQVNFX1BST0pFQ1RfSUQgfHwgXCJzdXBwbGVtZW50LXRyYWNrZXItZGVtb1wiLFxuICBzdG9yYWdlQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCB8fCBcInN1cHBsZW1lbnQtdHJhY2tlci1kZW1vLmFwcHNwb3QuY29tXCIsXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9NRVNTQUdJTkdfU0VOREVSX0lEIHx8IFwiMTIzNDU2Nzg5MDAwXCIsXG4gIGFwcElkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GSVJFQkFTRV9BUFBfSUQgfHwgXCIxOjEyMzQ1Njc4OTAwMDp3ZWI6YWJjZGVmMTIzNDU2Nzg5XCJcbn1cblxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZylcblxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZSBzZXJ2aWNlc1xuZXhwb3J0IGNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcClcbmV4cG9ydCBjb25zdCBhdXRoID0gZ2V0QXV0aChhcHApXG5cbi8vIEV4cG9ydCB0aGUgYXBwIGluc3RhbmNlXG5leHBvcnQgZGVmYXVsdCBhcHAiXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEZpcmVzdG9yZSIsImdldEF1dGgiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9BUElfS0VZIiwiYXV0aERvbWFpbiIsIk5FWFRfUFVCTElDX0ZJUkVCQVNFX0FVVEhfRE9NQUlOIiwicHJvamVjdElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfUFJPSkVDVF9JRCIsInN0b3JhZ2VCdWNrZXQiLCJORVhUX1BVQkxJQ19GSVJFQkFTRV9TVE9SQUdFX0JVQ0tFVCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfTUVTU0FHSU5HX1NFTkRFUl9JRCIsImFwcElkIiwiTkVYVF9QVUJMSUNfRklSRUJBU0VfQVBQX0lEIiwiYXBwIiwiZGIiLCJhdXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./lib/firebase.ts\n");

/***/ }),

/***/ "./pages/_app.tsx":
/*!************************!*\
  !*** ./pages/_app.tsx ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MyApp)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"./styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../contexts/AuthContextFirebase */ \"./contexts/AuthContextFirebase.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_2__]);\n_contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_2__.AuthProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n            ...pageProps\n        }, void 0, false, {\n            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_app.tsx\",\n            lineNumber: 8,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_app.tsx\",\n        lineNumber: 7,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fYXBwLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQytCO0FBQytCO0FBRS9DLFNBQVNDLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQVk7SUFDOUQscUJBQ0UsOERBQUNILHVFQUFZQTtrQkFDWCw0RUFBQ0U7WUFBVyxHQUFHQyxTQUFTOzs7Ozs7Ozs7OztBQUc5QiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cHBsZW1lbnQtdHJhY2tlci8uL3BhZ2VzL19hcHAudHN4PzJmYmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gXCJuZXh0L2FwcFwiO1xuaW1wb3J0IFwiLi4vc3R5bGVzL2dsb2JhbHMuY3NzXCI7XG5pbXBvcnQgeyBBdXRoUHJvdmlkZXIgfSBmcm9tICcuLi9jb250ZXh0cy9BdXRoQ29udGV4dEZpcmViYXNlJ1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNeUFwcCh7IENvbXBvbmVudCwgcGFnZVByb3BzIH06IEFwcFByb3BzKSB7XG4gIHJldHVybiAoXG4gICAgPEF1dGhQcm92aWRlcj5cbiAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cbiAgICA8L0F1dGhQcm92aWRlcj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJBdXRoUHJvdmlkZXIiLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_app.tsx\n");

/***/ }),

/***/ "./pages/_document.tsx":
/*!*****************************!*\
  !*** ./pages/_document.tsx ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Document)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/document */ \"./node_modules/next/document.js\");\n/* harmony import */ var next_document__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_document__WEBPACK_IMPORTED_MODULE_1__);\n\n\nfunction Document() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Html, {\n        lang: \"en\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Head, {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.svg\",\n                        type: \"image/svg+xml\"\n                    }, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_document.tsx\",\n                        lineNumber: 7,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"alternate icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_document.tsx\",\n                        lineNumber: 8,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Daily Supplement Tracker - Track your supplements and maintain healthy habits\"\n                    }, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_document.tsx\",\n                        lineNumber: 9,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"theme-color\",\n                        content: \"#4F46E5\"\n                    }, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_document.tsx\",\n                        lineNumber: 10,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_document.tsx\",\n                lineNumber: 6,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"body\", {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.Main, {}, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_document.tsx\",\n                        lineNumber: 13,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_document__WEBPACK_IMPORTED_MODULE_1__.NextScript, {}, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_document.tsx\",\n                        lineNumber: 14,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_document.tsx\",\n                lineNumber: 12,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/_document.tsx\",\n        lineNumber: 5,\n        columnNumber: 5\n    }, this);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9fZG9jdW1lbnQudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUE0RDtBQUU3QyxTQUFTSTtJQUN0QixxQkFDRSw4REFBQ0osK0NBQUlBO1FBQUNLLE1BQUs7OzBCQUNULDhEQUFDSiwrQ0FBSUE7O2tDQUNILDhEQUFDSzt3QkFBS0MsS0FBSTt3QkFBT0MsTUFBSzt3QkFBZUMsTUFBSzs7Ozs7O2tDQUMxQyw4REFBQ0g7d0JBQUtDLEtBQUk7d0JBQWlCQyxNQUFLOzs7Ozs7a0NBQ2hDLDhEQUFDRTt3QkFBS0MsTUFBSzt3QkFBY0MsU0FBUTs7Ozs7O2tDQUNqQyw4REFBQ0Y7d0JBQUtDLE1BQUs7d0JBQWNDLFNBQVE7Ozs7Ozs7Ozs7OzswQkFFbkMsOERBQUNDOztrQ0FDQyw4REFBQ1gsK0NBQUlBOzs7OztrQ0FDTCw4REFBQ0MscURBQVVBOzs7Ozs7Ozs7Ozs7Ozs7OztBQUluQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cHBsZW1lbnQtdHJhY2tlci8uL3BhZ2VzL19kb2N1bWVudC50c3g/ZDM3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBIdG1sLCBIZWFkLCBNYWluLCBOZXh0U2NyaXB0IH0gZnJvbSAnbmV4dC9kb2N1bWVudCdcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRG9jdW1lbnQoKSB7XG4gIHJldHVybiAoXG4gICAgPEh0bWwgbGFuZz1cImVuXCI+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPGxpbmsgcmVsPVwiaWNvblwiIGhyZWY9XCIvZmF2aWNvbi5zdmdcIiB0eXBlPVwiaW1hZ2Uvc3ZnK3htbFwiIC8+XG4gICAgICAgIDxsaW5rIHJlbD1cImFsdGVybmF0ZSBpY29uXCIgaHJlZj1cIi9mYXZpY29uLmljb1wiIC8+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJEYWlseSBTdXBwbGVtZW50IFRyYWNrZXIgLSBUcmFjayB5b3VyIHN1cHBsZW1lbnRzIGFuZCBtYWludGFpbiBoZWFsdGh5IGhhYml0c1wiIC8+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ0aGVtZS1jb2xvclwiIGNvbnRlbnQ9XCIjNEY0NkU1XCIgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIDxib2R5PlxuICAgICAgICA8TWFpbiAvPlxuICAgICAgICA8TmV4dFNjcmlwdCAvPlxuICAgICAgPC9ib2R5PlxuICAgIDwvSHRtbD5cbiAgKVxufSJdLCJuYW1lcyI6WyJIdG1sIiwiSGVhZCIsIk1haW4iLCJOZXh0U2NyaXB0IiwiRG9jdW1lbnQiLCJsYW5nIiwibGluayIsInJlbCIsImhyZWYiLCJ0eXBlIiwibWV0YSIsIm5hbWUiLCJjb250ZW50IiwiYm9keSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/_document.tsx\n");

/***/ }),

/***/ "./pages/library.tsx":
/*!***************************!*\
  !*** ./pages/library.tsx ***!
  \***************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ManageLibrary)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_Layout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../components/Layout */ \"./components/Layout.tsx\");\n/* harmony import */ var _contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../contexts/AuthContextFirebase */ \"./contexts/AuthContextFirebase.tsx\");\n/* harmony import */ var _utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/storage-enhanced */ \"./utils/storage-enhanced.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_components_Layout__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_3__, _utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_4__]);\n([_components_Layout__WEBPACK_IMPORTED_MODULE_2__, _contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_3__, _utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\nfunction ManageLibrary() {\n    const { isAuthenticated, isLoading, user } = (0,_contexts_AuthContextFirebase__WEBPACK_IMPORTED_MODULE_3__.useAuth)();\n    const [supplementLibrary, setSupplementLibrary] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [showAddModal, setShowAddModal] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [editingItem, setEditingItem] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [showCamera, setShowCamera] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isProcessingImage, setIsProcessingImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [stream, setStream] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [newSupplement, setNewSupplement] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        name: \"\",\n        defaultDosage: \"\",\n        category: \"Vitamins\"\n    });\n    const categories = [\n        \"Vitamins\",\n        \"Minerals\",\n        \"Essential Fatty Acids\",\n        \"Digestive Health\",\n        \"Herbal\",\n        \"Other\"\n    ];\n    // Filter supplements based on search term\n    const filteredSupplements = supplementLibrary.filter((supplement)=>supplement.name.toLowerCase().includes(searchTerm.toLowerCase()) || supplement.category.toLowerCase().includes(searchTerm.toLowerCase()));\n    // Load library data on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        async function loadLibrary() {\n            if (user) {\n                try {\n                    const library = await (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_4__.getUserSupplementLibrary)(user.id);\n                    setSupplementLibrary(library);\n                } catch (error) {\n                    console.error(\"Error loading supplement library:\", error);\n                }\n            }\n        }\n        if (isAuthenticated && user) {\n            loadLibrary();\n        }\n    }, [\n        isAuthenticated,\n        user\n    ]);\n    const addToLibrary = async ()=>{\n        if (newSupplement.name.trim() && user) {\n            try {\n                const supplement = {\n                    id: Date.now().toString(),\n                    name: newSupplement.name.trim(),\n                    defaultDosage: newSupplement.defaultDosage.trim() || \"1 dose\",\n                    category: newSupplement.category\n                };\n                const updatedLibrary = [\n                    ...supplementLibrary,\n                    supplement\n                ];\n                setSupplementLibrary(updatedLibrary);\n                await (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_4__.saveUserSupplementLibrary)(user.id, updatedLibrary);\n                setNewSupplement({\n                    name: \"\",\n                    defaultDosage: \"\",\n                    category: \"Vitamins\"\n                });\n                setShowAddModal(false);\n            } catch (error) {\n                console.error(\"Error adding supplement to library:\", error);\n            }\n        }\n    };\n    // Camera and image processing functions\n    const startCamera = async ()=>{\n        try {\n            const mediaStream = await navigator.mediaDevices.getUserMedia({\n                video: {\n                    facingMode: \"environment\"\n                } // Use back camera on mobile\n            });\n            setStream(mediaStream);\n            if (videoRef.current) {\n                videoRef.current.srcObject = mediaStream;\n            }\n            setShowCamera(true);\n        } catch (error) {\n            console.error(\"Error accessing camera:\", error);\n            alert(\"Unable to access camera. Please check permissions.\");\n        }\n    };\n    const stopCamera = ()=>{\n        if (stream) {\n            stream.getTracks().forEach((track)=>track.stop());\n            setStream(null);\n        }\n        setShowCamera(false);\n    };\n    const capturePhoto = async ()=>{\n        if (!videoRef.current || !canvasRef.current) return;\n        const video = videoRef.current;\n        const canvas = canvasRef.current;\n        const context = canvas.getContext(\"2d\");\n        // Set canvas dimensions to match video\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        // Draw video frame to canvas\n        context?.drawImage(video, 0, 0, canvas.width, canvas.height);\n        // Convert to blob\n        canvas.toBlob(async (blob)=>{\n            if (blob) {\n                setIsProcessingImage(true);\n                await processSupplementImage(blob);\n                setIsProcessingImage(false);\n            }\n        }, \"image/jpeg\", 0.8);\n        stopCamera();\n    };\n    const processSupplementImage = async (imageBlob)=>{\n        try {\n            // Convert blob to base64\n            const base64Image = await blobToBase64(imageBlob);\n            // Call AI service to extract text (using a simple mock for now)\n            const extractedInfo = await extractSupplementInfo(base64Image);\n            // Populate form with extracted information\n            setNewSupplement({\n                name: extractedInfo.name || \"\",\n                defaultDosage: extractedInfo.dosage || \"\",\n                category: extractedInfo.category || \"Vitamins\"\n            });\n        } catch (error) {\n            console.error(\"Error processing image:\", error);\n            alert(\"Error processing image. Please try again or enter information manually.\");\n        }\n    };\n    const blobToBase64 = (blob)=>{\n        return new Promise((resolve, reject)=>{\n            const reader = new FileReader();\n            reader.onloadend = ()=>resolve(reader.result);\n            reader.onerror = reject;\n            reader.readAsDataURL(blob);\n        });\n    };\n    const extractSupplementInfo = async (base64Image)=>{\n        // This is a simplified mock implementation\n        // In a real app, you would integrate with services like:\n        // - Google Cloud Vision API\n        // - AWS Textract\n        // - OpenAI GPT-4 Vision\n        // - Azure Computer Vision\n        try {\n            // For demo purposes, we'll use a simple regex pattern matching\n            // In reality, you'd send this to an AI service\n            // Simulate AI processing delay\n            await new Promise((resolve)=>setTimeout(resolve, 2000));\n            // Mock extracted data (in real implementation, this would come from AI service)\n            const mockResults = [\n                {\n                    name: \"Vitamin D3\",\n                    dosage: \"2000 IU\",\n                    category: \"Vitamins\"\n                },\n                {\n                    name: \"Omega-3 Fish Oil\",\n                    dosage: \"1000mg\",\n                    category: \"Essential Fatty Acids\"\n                },\n                {\n                    name: \"Magnesium Glycinate\",\n                    dosage: \"400mg\",\n                    category: \"Minerals\"\n                },\n                {\n                    name: \"Probiotics\",\n                    dosage: \"50 Billion CFU\",\n                    category: \"Digestive Health\"\n                },\n                {\n                    name: \"Turmeric Curcumin\",\n                    dosage: \"500mg\",\n                    category: \"Herbal\"\n                }\n            ];\n            // Return a random result for demo\n            const randomResult = mockResults[Math.floor(Math.random() * mockResults.length)];\n            return randomResult;\n        } catch (error) {\n            console.error(\"Error extracting supplement info:\", error);\n            return {};\n        }\n    };\n    const updateLibraryItem = async (updatedItem)=>{\n        if (user) {\n            try {\n                const updatedLibrary = supplementLibrary.map((item)=>item.id === updatedItem.id ? updatedItem : item);\n                setSupplementLibrary(updatedLibrary);\n                await (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_4__.saveUserSupplementLibrary)(user.id, updatedLibrary);\n                setEditingItem(null);\n            } catch (error) {\n                console.error(\"Error updating supplement:\", error);\n            }\n        }\n    };\n    const removeFromLibrary = async (id)=>{\n        if (user) {\n            try {\n                const updatedLibrary = supplementLibrary.filter((s)=>s.id !== id);\n                setSupplementLibrary(updatedLibrary);\n                await (0,_utils_storage_enhanced__WEBPACK_IMPORTED_MODULE_4__.saveUserSupplementLibrary)(user.id, updatedLibrary);\n            } catch (error) {\n                console.error(\"Error removing supplement from library:\", error);\n            }\n        }\n    };\n    if (isLoading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"w-16 h-16 mx-auto mb-4 bg-blue-600 rounded-full flex items-center justify-center animate-pulse\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                className: \"text-2xl text-white\",\n                                children: \"\\uD83D\\uDCDA\"\n                            }, void 0, false, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                lineNumber: 223,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                            lineNumber: 222,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-600\",\n                            children: \"Loading library...\"\n                        }, void 0, false, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                            lineNumber: 225,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                    lineNumber: 221,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                lineNumber: 220,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n            lineNumber: 219,\n            columnNumber: 7\n        }, this);\n    }\n    if (!isAuthenticated) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-xl font-semibold text-gray-900 mb-2\",\n                            children: \"Authentication Required\"\n                        }, void 0, false, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                            lineNumber: 237,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-600\",\n                            children: \"Please log in to manage your supplement library.\"\n                        }, void 0, false, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                            lineNumber: 238,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                    lineNumber: 236,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                lineNumber: 235,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n            lineNumber: 234,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Layout__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen bg-gray-50 pb-20 md:pb-0\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"p-4 md:p-6 shadow-lg\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"max-w-4xl mx-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xs\",\n                            children: \"Add, edit, and organize your supplements\"\n                        }, void 0, false, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                            lineNumber: 251,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                        lineNumber: 250,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                    lineNumber: 249,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"max-w-4xl mx-auto p-4 md:p-6 space-y-4 md:space-y-6\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"grid grid-cols-2 gap-3 md:grid-cols-3 md:gap-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white p-4 md:p-6 rounded-xl shadow-md border border-gray-100\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-2xl md:text-3xl font-bold text-purple-600 mb-1\",\n                                                children: supplementLibrary.length\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 260,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs md:text-sm text-gray-600 leading-tight\",\n                                                children: \"Total Supplements\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 261,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 259,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                    lineNumber: 258,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white p-4 md:p-6 rounded-xl shadow-md border border-gray-100\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-2xl md:text-3xl font-bold text-blue-600 mb-1\",\n                                                children: categories.length\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 266,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs md:text-sm text-gray-600 leading-tight\",\n                                                children: \"Categories\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 267,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 265,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                    lineNumber: 264,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white p-4 md:p-6 rounded-xl shadow-md border border-gray-100 col-span-2 md:col-span-1\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"text-center\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-2xl md:text-3xl font-bold text-green-600 mb-1\",\n                                                children: supplementLibrary.length > 0 ? Math.round(supplementLibrary.length / categories.length * 10) / 10 : 0\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 272,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-xs md:text-sm text-gray-600 leading-tight\",\n                                                children: \"Avg per Category\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 275,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 271,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                    lineNumber: 270,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                            lineNumber: 257,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"bg-white rounded-xl shadow-md border border-gray-100 overflow-hidden\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-gray-50 px-4 md:px-6 py-4 border-b border-gray-200\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex flex-col md:flex-row md:items-center md:justify-between gap-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                                                className: \"text-lg md:text-xl font-semibold text-gray-900\",\n                                                children: \"Supplement Library\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 284,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setShowAddModal(true),\n                                                className: \"bg-purple-600 text-white px-4 md:px-6 py-2 md:py-3 rounded-xl hover:bg-purple-700 active:bg-purple-800 transition-all duration-200 font-medium transform active:scale-95\",\n                                                children: \"Add New Supplement\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 285,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 283,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                    lineNumber: 282,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-4 md:p-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"mb-6\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"relative\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: searchTerm,\n                                                        onChange: (e)=>setSearchTerm(e.target.value),\n                                                        placeholder: \"Search supplements by name or category...\",\n                                                        className: \"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 298,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"absolute left-3 top-3.5 text-gray-400\",\n                                                        children: \"\\uD83D\\uDD0D\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 305,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 297,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                            lineNumber: 296,\n                                            columnNumber: 15\n                                        }, this),\n                                        filteredSupplements.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center py-8\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-16 h-16 mx-auto mb-4 bg-purple-50 rounded-full flex items-center justify-center\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-2xl\",\n                                                        children: \"\\uD83D\\uDCDA\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 313,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 312,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                    className: \"text-lg font-medium text-gray-900 mb-2\",\n                                                    children: supplementLibrary.length === 0 ? \"No supplements in library\" : \"No supplements match your search\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 315,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-gray-500\",\n                                                    children: supplementLibrary.length === 0 ? \"Add your first supplement to get started\" : \"Try a different search term\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 318,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                            lineNumber: 311,\n                                            columnNumber: 17\n                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"space-y-3\",\n                                            children: categories.map((category)=>{\n                                                const categorySupplements = filteredSupplements.filter((s)=>s.category === category);\n                                                if (categorySupplements.length === 0) return null;\n                                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"space-y-2\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                            className: \"text-base md:text-lg font-semibold text-gray-800 border-b border-gray-200 pb-2\",\n                                                            children: [\n                                                                category,\n                                                                \" (\",\n                                                                categorySupplements.length,\n                                                                \")\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                            lineNumber: 330,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"space-y-2\",\n                                                            children: categorySupplements.map((supplement)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between p-4 bg-gray-50 rounded-lg border border-gray-200 hover:border-purple-300 transition-all duration-200\",\n                                                                    children: [\n                                                                        editingItem?.id === supplement.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex-1 grid grid-cols-1 md:grid-cols-3 gap-3\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                    type: \"text\",\n                                                                                    value: editingItem.name,\n                                                                                    onChange: (e)=>setEditingItem({\n                                                                                            ...editingItem,\n                                                                                            name: e.target.value\n                                                                                        }),\n                                                                                    className: \"p-2 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                    lineNumber: 338,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                                                    type: \"text\",\n                                                                                    value: editingItem.defaultDosage,\n                                                                                    onChange: (e)=>setEditingItem({\n                                                                                            ...editingItem,\n                                                                                            defaultDosage: e.target.value\n                                                                                        }),\n                                                                                    className: \"p-2 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                    lineNumber: 344,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                                                    value: editingItem.category,\n                                                                                    onChange: (e)=>setEditingItem({\n                                                                                            ...editingItem,\n                                                                                            category: e.target.value\n                                                                                        }),\n                                                                                    className: \"p-2 border border-gray-300 rounded focus:ring-2 focus:ring-purple-500\",\n                                                                                    children: categories.map((cat)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                                            value: cat,\n                                                                                            children: cat\n                                                                                        }, cat, false, {\n                                                                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                            lineNumber: 356,\n                                                                                            columnNumber: 39\n                                                                                        }, this))\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                    lineNumber: 350,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                            lineNumber: 337,\n                                                                            columnNumber: 33\n                                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex-1\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h5\", {\n                                                                                    className: \"text-base md:text-lg font-medium text-gray-900\",\n                                                                                    children: supplement.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                    lineNumber: 364,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                    className: \"text-sm text-gray-600\",\n                                                                                    children: supplement.defaultDosage\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                    lineNumber: 365,\n                                                                                    columnNumber: 35\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                            lineNumber: 363,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center space-x-2 ml-4\",\n                                                                            children: editingItem?.id === supplement.id ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: ()=>updateLibraryItem(editingItem),\n                                                                                        className: \"bg-green-600 text-white px-3 py-1.5 rounded-lg text-sm hover:bg-green-700 active:bg-green-800 transition-all duration-200 font-medium\",\n                                                                                        children: \"Save\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                        lineNumber: 372,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: ()=>setEditingItem(null),\n                                                                                        className: \"bg-gray-600 text-white px-3 py-1.5 rounded-lg text-sm hover:bg-gray-700 active:bg-gray-800 transition-all duration-200 font-medium\",\n                                                                                        children: \"Cancel\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                        lineNumber: 378,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: ()=>setEditingItem(supplement),\n                                                                                        className: \"text-blue-600 hover:text-blue-700 p-2 rounded-lg transition-all duration-200\",\n                                                                                        title: \"Edit\",\n                                                                                        children: \"✏️\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                        lineNumber: 387,\n                                                                                        columnNumber: 37\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: ()=>removeFromLibrary(supplement.id),\n                                                                                        className: \"text-red-600 hover:text-red-700 p-2 rounded-lg transition-all duration-200\",\n                                                                                        title: \"Delete\",\n                                                                                        children: \"\\uD83D\\uDDD1️\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                                        lineNumber: 394,\n                                                                                        columnNumber: 37\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                            lineNumber: 369,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    ]\n                                                                }, supplement.id, true, {\n                                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                    lineNumber: 335,\n                                                                    columnNumber: 29\n                                                                }, this))\n                                                        }, void 0, false, {\n                                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                            lineNumber: 333,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, category, true, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 329,\n                                                    columnNumber: 23\n                                                }, this);\n                                            })\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                            lineNumber: 323,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                    lineNumber: 294,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                            lineNumber: 281,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                    lineNumber: 255,\n                    columnNumber: 9\n                }, this),\n                showCamera && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"max-w-md w-full mx-4\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white rounded-t-xl p-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                    className: \"text-lg font-semibold text-gray-900\",\n                                                    children: \"Scan Supplement Label\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 422,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: stopCamera,\n                                                    className: \"text-gray-400 hover:text-gray-600 transition-colors\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-2xl\",\n                                                        children: \"\\xd7\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 427,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 423,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                            lineNumber: 421,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-600 mb-4\",\n                                            children: \"Position the supplement label within the frame and tap capture\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                            lineNumber: 430,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                    lineNumber: 420,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"relative bg-black\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                            ref: videoRef,\n                                            autoPlay: true,\n                                            playsInline: true,\n                                            className: \"w-full h-64 object-cover\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                            lineNumber: 436,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute inset-0 flex items-center justify-center\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"border-2 border-white border-dashed w-4/5 h-3/5 rounded-lg flex items-center justify-center\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-white text-sm bg-black bg-opacity-50 px-2 py-1 rounded\",\n                                                    children: \"Position label here\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 446,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 445,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                            lineNumber: 444,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"absolute bottom-4 left-1/2 transform -translate-x-1/2\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: capturePhoto,\n                                                disabled: isProcessingImage,\n                                                className: \"w-16 h-16 bg-white rounded-full border-4 border-gray-300 flex items-center justify-center shadow-lg hover:bg-gray-50 transition-colors disabled:opacity-50\",\n                                                children: isProcessingImage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 460,\n                                                    columnNumber: 21\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-8 h-8 bg-blue-600 rounded-full\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 462,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 454,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                            lineNumber: 453,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                    lineNumber: 435,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"bg-white rounded-b-xl p-4\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-xs text-gray-500 text-center\",\n                                        children: isProcessingImage ? \"Processing image...\" : \"Tap the button to capture\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 469,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                    lineNumber: 468,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                            lineNumber: 419,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                            ref: canvasRef,\n                            className: \"hidden\"\n                        }, void 0, false, {\n                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                            lineNumber: 476,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                    lineNumber: 418,\n                    columnNumber: 9\n                }, this),\n                isProcessingImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-60\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white rounded-xl p-6 max-w-sm w-full mx-4 text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                    lineNumber: 485,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                lineNumber: 484,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-gray-900 mb-2\",\n                                children: \"Analyzing Image\"\n                            }, void 0, false, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                lineNumber: 487,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-600\",\n                                children: \"Extracting supplement information from the label...\"\n                            }, void 0, false, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                lineNumber: 488,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                        lineNumber: 483,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                    lineNumber: 482,\n                    columnNumber: 9\n                }, this),\n                showAddModal && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-hidden\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-purple-50 px-6 py-4 border-b border-purple-200\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center justify-between\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-lg font-semibold text-gray-900\",\n                                                children: \"Add New Supplement\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 501,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setShowAddModal(false);\n                                                    setNewSupplement({\n                                                        name: \"\",\n                                                        defaultDosage: \"\",\n                                                        category: \"Vitamins\"\n                                                    });\n                                                },\n                                                className: \"text-gray-400 hover:text-gray-600 transition-colors\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-2xl\",\n                                                    children: \"\\xd7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 509,\n                                                    columnNumber: 21\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 502,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 500,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-purple-600 mt-1\",\n                                        children: \"Add a new supplement to your library\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 512,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"mt-3 flex justify-center\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: startCamera,\n                                            className: \"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-lg\",\n                                                    children: \"\\uD83D\\uDCF7\"\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                    lineNumber: 520,\n                                                    columnNumber: 21\n                                                }, this),\n                                                \"Scan Label with Camera\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                            lineNumber: 516,\n                                            columnNumber: 19\n                                        }, this)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 515,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                lineNumber: 499,\n                                columnNumber: 15\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"p-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                                        children: \"Supplement Name *\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 530,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newSupplement.name,\n                                                        onChange: (e)=>setNewSupplement({\n                                                                ...newSupplement,\n                                                                name: e.target.value\n                                                            }),\n                                                        placeholder: \"e.g., Vitamin D3\",\n                                                        className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors\",\n                                                        autoFocus: true\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 533,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 529,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                                        children: \"Default Dosage\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 545,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: \"text\",\n                                                        value: newSupplement.defaultDosage,\n                                                        onChange: (e)=>setNewSupplement({\n                                                                ...newSupplement,\n                                                                defaultDosage: e.target.value\n                                                            }),\n                                                        placeholder: \"e.g., 1000 IU\",\n                                                        className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 548,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 544,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                                        className: \"block text-sm font-medium text-gray-700 mb-2\",\n                                                        children: \"Category\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 559,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                        value: newSupplement.category,\n                                                        onChange: (e)=>setNewSupplement({\n                                                                ...newSupplement,\n                                                                category: e.target.value\n                                                            }),\n                                                        className: \"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-colors\",\n                                                        children: categories.map((category)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: category,\n                                                                children: category\n                                                            }, category, false, {\n                                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                                lineNumber: 568,\n                                                                columnNumber: 25\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                        lineNumber: 562,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 558,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 527,\n                                        columnNumber: 17\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex gap-3 pt-6 border-t border-gray-200 mt-6\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    setShowAddModal(false);\n                                                    setNewSupplement({\n                                                        name: \"\",\n                                                        defaultDosage: \"\",\n                                                        category: \"Vitamins\"\n                                                    });\n                                                },\n                                                className: \"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg hover:bg-gray-300 transition-colors font-medium\",\n                                                children: \"Cancel\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 578,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    addToLibrary();\n                                                },\n                                                disabled: !newSupplement.name.trim(),\n                                                className: `flex-1 py-3 px-4 rounded-lg font-medium transition-colors ${newSupplement.name.trim() ? \"bg-purple-600 text-white hover:bg-purple-700\" : \"bg-gray-100 text-gray-400 cursor-not-allowed\"}`,\n                                                children: \"Add to Library\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                                lineNumber: 587,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                        lineNumber: 577,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                                lineNumber: 526,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                        lineNumber: 498,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n                    lineNumber: 497,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n            lineNumber: 247,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/davidross/Documents/GitHub/Daily-Supplement-Tracker/pages/library.tsx\",\n        lineNumber: 246,\n        columnNumber: 5\n    }, this);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQU14RixpQkFBaUI7Z0VBQUMsR0FBR0QsYUFBYTtnRUFBRUksVUFBVXFGLEVBQUVDLE1BQU0sQ0FBQ0gsS0FBSzs0REFBQTt3REFDN0VULFdBQVU7a0VBRVR6RSxXQUFXb0UsR0FBRyxDQUFDLENBQUNyRSx5QkFDZiw4REFBQzRGO2dFQUFzQlQsT0FBT25GOzBFQUMzQkE7K0RBRFVBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O2tEQVNyQiw4REFBQ3lFO3dDQUFJQyxXQUFVOzswREFDYiw4REFBQ0s7Z0RBQ0NDLFNBQVM7b0RBQ1BqRyxnQkFBZ0I7b0RBQ2hCYyxpQkFBaUI7d0RBQUVDLE1BQU07d0RBQUlDLGVBQWU7d0RBQUlDLFVBQVU7b0RBQVc7Z0RBQ3ZFO2dEQUNBMEUsV0FBVTswREFDWDs7Ozs7OzBEQUdELDhEQUFDSztnREFDQ0MsU0FBUztvREFDUHBFO2dEQUNGO2dEQUNBc0YsVUFBVSxDQUFDdEcsY0FBY0UsSUFBSSxDQUFDZSxJQUFJO2dEQUNsQzZELFdBQVcsQ0FBQywwREFBMEQsRUFDcEU5RSxjQUFjRSxJQUFJLENBQUNlLElBQUksS0FDbkIsaURBQ0EsK0NBQ0wsQ0FBQzswREFDSDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVduQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N1cHBsZW1lbnQtdHJhY2tlci8uL3BhZ2VzL2xpYnJhcnkudHN4PzQ0ZTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gJ3JlYWN0J1xuaW1wb3J0IExheW91dCBmcm9tICcuLi9jb21wb25lbnRzL0xheW91dCdcbmltcG9ydCB7IHVzZUF1dGggfSBmcm9tICcuLi9jb250ZXh0cy9BdXRoQ29udGV4dEZpcmViYXNlJ1xuaW1wb3J0IHsgXG4gIFN1cHBsZW1lbnRMaWJyYXJ5SXRlbSxcbiAgZ2V0VXNlclN1cHBsZW1lbnRMaWJyYXJ5LFxuICBzYXZlVXNlclN1cHBsZW1lbnRMaWJyYXJ5XG59IGZyb20gJy4uL3V0aWxzL3N0b3JhZ2UtZW5oYW5jZWQnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1hbmFnZUxpYnJhcnkoKSB7XG4gIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCBpc0xvYWRpbmcsIHVzZXIgfSA9IHVzZUF1dGgoKVxuICBjb25zdCBbc3VwcGxlbWVudExpYnJhcnksIHNldFN1cHBsZW1lbnRMaWJyYXJ5XSA9IHVzZVN0YXRlPFN1cHBsZW1lbnRMaWJyYXJ5SXRlbVtdPihbXSlcbiAgY29uc3QgW3Nob3dBZGRNb2RhbCwgc2V0U2hvd0FkZE1vZGFsXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbZWRpdGluZ0l0ZW0sIHNldEVkaXRpbmdJdGVtXSA9IHVzZVN0YXRlPFN1cHBsZW1lbnRMaWJyYXJ5SXRlbSB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtzZWFyY2hUZXJtLCBzZXRTZWFyY2hUZXJtXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbc2hvd0NhbWVyYSwgc2V0U2hvd0NhbWVyYV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW2lzUHJvY2Vzc2luZ0ltYWdlLCBzZXRJc1Byb2Nlc3NpbmdJbWFnZV0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgdmlkZW9SZWYgPSB1c2VSZWY8SFRNTFZpZGVvRWxlbWVudD4obnVsbClcbiAgY29uc3QgY2FudmFzUmVmID0gdXNlUmVmPEhUTUxDYW52YXNFbGVtZW50PihudWxsKVxuICBjb25zdCBbc3RyZWFtLCBzZXRTdHJlYW1dID0gdXNlU3RhdGU8TWVkaWFTdHJlYW0gfCBudWxsPihudWxsKVxuICBjb25zdCBbbmV3U3VwcGxlbWVudCwgc2V0TmV3U3VwcGxlbWVudF0gPSB1c2VTdGF0ZSh7XG4gICAgbmFtZTogJycsXG4gICAgZGVmYXVsdERvc2FnZTogJycsXG4gICAgY2F0ZWdvcnk6ICdWaXRhbWlucydcbiAgfSlcblxuICBjb25zdCBjYXRlZ29yaWVzID0gWydWaXRhbWlucycsICdNaW5lcmFscycsICdFc3NlbnRpYWwgRmF0dHkgQWNpZHMnLCAnRGlnZXN0aXZlIEhlYWx0aCcsICdIZXJiYWwnLCAnT3RoZXInXVxuXG4gIC8vIEZpbHRlciBzdXBwbGVtZW50cyBiYXNlZCBvbiBzZWFyY2ggdGVybVxuICBjb25zdCBmaWx0ZXJlZFN1cHBsZW1lbnRzID0gc3VwcGxlbWVudExpYnJhcnkuZmlsdGVyKHN1cHBsZW1lbnQgPT5cbiAgICBzdXBwbGVtZW50Lm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpIHx8XG4gICAgc3VwcGxlbWVudC5jYXRlZ29yeS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRlcm0udG9Mb3dlckNhc2UoKSlcbiAgKVxuXG4gIC8vIExvYWQgbGlicmFyeSBkYXRhIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGFzeW5jIGZ1bmN0aW9uIGxvYWRMaWJyYXJ5KCkge1xuICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBsaWJyYXJ5ID0gYXdhaXQgZ2V0VXNlclN1cHBsZW1lbnRMaWJyYXJ5KHVzZXIuaWQpXG4gICAgICAgICAgc2V0U3VwcGxlbWVudExpYnJhcnkobGlicmFyeSlcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHN1cHBsZW1lbnQgbGlicmFyeTonLCBlcnJvcilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQgJiYgdXNlcikge1xuICAgICAgbG9hZExpYnJhcnkoKVxuICAgIH1cbiAgfSwgW2lzQXV0aGVudGljYXRlZCwgdXNlcl0pXG5cbiAgY29uc3QgYWRkVG9MaWJyYXJ5ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChuZXdTdXBwbGVtZW50Lm5hbWUudHJpbSgpICYmIHVzZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN1cHBsZW1lbnQ6IFN1cHBsZW1lbnRMaWJyYXJ5SXRlbSA9IHtcbiAgICAgICAgICBpZDogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgICAgICAgIG5hbWU6IG5ld1N1cHBsZW1lbnQubmFtZS50cmltKCksXG4gICAgICAgICAgZGVmYXVsdERvc2FnZTogbmV3U3VwcGxlbWVudC5kZWZhdWx0RG9zYWdlLnRyaW0oKSB8fCAnMSBkb3NlJyxcbiAgICAgICAgICBjYXRlZ29yeTogbmV3U3VwcGxlbWVudC5jYXRlZ29yeVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCB1cGRhdGVkTGlicmFyeSA9IFsuLi5zdXBwbGVtZW50TGlicmFyeSwgc3VwcGxlbWVudF1cbiAgICAgICAgc2V0U3VwcGxlbWVudExpYnJhcnkodXBkYXRlZExpYnJhcnkpXG4gICAgICAgIGF3YWl0IHNhdmVVc2VyU3VwcGxlbWVudExpYnJhcnkodXNlci5pZCwgdXBkYXRlZExpYnJhcnkpXG4gICAgICAgIFxuICAgICAgICBzZXROZXdTdXBwbGVtZW50KHsgbmFtZTogJycsIGRlZmF1bHREb3NhZ2U6ICcnLCBjYXRlZ29yeTogJ1ZpdGFtaW5zJyB9KVxuICAgICAgICBzZXRTaG93QWRkTW9kYWwoZmFsc2UpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhZGRpbmcgc3VwcGxlbWVudCB0byBsaWJyYXJ5OicsIGVycm9yKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIENhbWVyYSBhbmQgaW1hZ2UgcHJvY2Vzc2luZyBmdW5jdGlvbnNcbiAgY29uc3Qgc3RhcnRDYW1lcmEgPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoeyBcbiAgICAgICAgdmlkZW86IHsgZmFjaW5nTW9kZTogJ2Vudmlyb25tZW50JyB9IC8vIFVzZSBiYWNrIGNhbWVyYSBvbiBtb2JpbGVcbiAgICAgIH0pXG4gICAgICBzZXRTdHJlYW0obWVkaWFTdHJlYW0pXG4gICAgICBpZiAodmlkZW9SZWYuY3VycmVudCkge1xuICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG1lZGlhU3RyZWFtXG4gICAgICB9XG4gICAgICBzZXRTaG93Q2FtZXJhKHRydWUpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFjY2Vzc2luZyBjYW1lcmE6JywgZXJyb3IpXG4gICAgICBhbGVydCgnVW5hYmxlIHRvIGFjY2VzcyBjYW1lcmEuIFBsZWFzZSBjaGVjayBwZXJtaXNzaW9ucy4nKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHN0b3BDYW1lcmEgPSAoKSA9PiB7XG4gICAgaWYgKHN0cmVhbSkge1xuICAgICAgc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2godHJhY2sgPT4gdHJhY2suc3RvcCgpKVxuICAgICAgc2V0U3RyZWFtKG51bGwpXG4gICAgfVxuICAgIHNldFNob3dDYW1lcmEoZmFsc2UpXG4gIH1cblxuICBjb25zdCBjYXB0dXJlUGhvdG8gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF2aWRlb1JlZi5jdXJyZW50IHx8ICFjYW52YXNSZWYuY3VycmVudCkgcmV0dXJuXG5cbiAgICBjb25zdCB2aWRlbyA9IHZpZGVvUmVmLmN1cnJlbnRcbiAgICBjb25zdCBjYW52YXMgPSBjYW52YXNSZWYuY3VycmVudFxuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKVxuXG4gICAgLy8gU2V0IGNhbnZhcyBkaW1lbnNpb25zIHRvIG1hdGNoIHZpZGVvXG4gICAgY2FudmFzLndpZHRoID0gdmlkZW8udmlkZW9XaWR0aFxuICAgIGNhbnZhcy5oZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodFxuXG4gICAgLy8gRHJhdyB2aWRlbyBmcmFtZSB0byBjYW52YXNcbiAgICBjb250ZXh0Py5kcmF3SW1hZ2UodmlkZW8sIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodClcblxuICAgIC8vIENvbnZlcnQgdG8gYmxvYlxuICAgIGNhbnZhcy50b0Jsb2IoYXN5bmMgKGJsb2IpID0+IHtcbiAgICAgIGlmIChibG9iKSB7XG4gICAgICAgIHNldElzUHJvY2Vzc2luZ0ltYWdlKHRydWUpXG4gICAgICAgIGF3YWl0IHByb2Nlc3NTdXBwbGVtZW50SW1hZ2UoYmxvYilcbiAgICAgICAgc2V0SXNQcm9jZXNzaW5nSW1hZ2UoZmFsc2UpXG4gICAgICB9XG4gICAgfSwgJ2ltYWdlL2pwZWcnLCAwLjgpXG5cbiAgICBzdG9wQ2FtZXJhKClcbiAgfVxuXG4gIGNvbnN0IHByb2Nlc3NTdXBwbGVtZW50SW1hZ2UgPSBhc3luYyAoaW1hZ2VCbG9iOiBCbG9iKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIENvbnZlcnQgYmxvYiB0byBiYXNlNjRcbiAgICAgIGNvbnN0IGJhc2U2NEltYWdlID0gYXdhaXQgYmxvYlRvQmFzZTY0KGltYWdlQmxvYilcbiAgICAgIFxuICAgICAgLy8gQ2FsbCBBSSBzZXJ2aWNlIHRvIGV4dHJhY3QgdGV4dCAodXNpbmcgYSBzaW1wbGUgbW9jayBmb3Igbm93KVxuICAgICAgY29uc3QgZXh0cmFjdGVkSW5mbyA9IGF3YWl0IGV4dHJhY3RTdXBwbGVtZW50SW5mbyhiYXNlNjRJbWFnZSlcbiAgICAgIFxuICAgICAgLy8gUG9wdWxhdGUgZm9ybSB3aXRoIGV4dHJhY3RlZCBpbmZvcm1hdGlvblxuICAgICAgc2V0TmV3U3VwcGxlbWVudCh7XG4gICAgICAgIG5hbWU6IGV4dHJhY3RlZEluZm8ubmFtZSB8fCAnJyxcbiAgICAgICAgZGVmYXVsdERvc2FnZTogZXh0cmFjdGVkSW5mby5kb3NhZ2UgfHwgJycsXG4gICAgICAgIGNhdGVnb3J5OiBleHRyYWN0ZWRJbmZvLmNhdGVnb3J5IHx8ICdWaXRhbWlucydcbiAgICAgIH0pXG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgcHJvY2Vzc2luZyBpbWFnZTonLCBlcnJvcilcbiAgICAgIGFsZXJ0KCdFcnJvciBwcm9jZXNzaW5nIGltYWdlLiBQbGVhc2UgdHJ5IGFnYWluIG9yIGVudGVyIGluZm9ybWF0aW9uIG1hbnVhbGx5LicpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgYmxvYlRvQmFzZTY0ID0gKGJsb2I6IEJsb2IpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gICAgICByZWFkZXIub25sb2FkZW5kID0gKCkgPT4gcmVzb2x2ZShyZWFkZXIucmVzdWx0IGFzIHN0cmluZylcbiAgICAgIHJlYWRlci5vbmVycm9yID0gcmVqZWN0XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKVxuICAgIH0pXG4gIH1cblxuICBjb25zdCBleHRyYWN0U3VwcGxlbWVudEluZm8gPSBhc3luYyAoYmFzZTY0SW1hZ2U6IHN0cmluZyk6IFByb21pc2U8e25hbWU/OiBzdHJpbmcsIGRvc2FnZT86IHN0cmluZywgY2F0ZWdvcnk/OiBzdHJpbmd9PiA9PiB7XG4gICAgLy8gVGhpcyBpcyBhIHNpbXBsaWZpZWQgbW9jayBpbXBsZW1lbnRhdGlvblxuICAgIC8vIEluIGEgcmVhbCBhcHAsIHlvdSB3b3VsZCBpbnRlZ3JhdGUgd2l0aCBzZXJ2aWNlcyBsaWtlOlxuICAgIC8vIC0gR29vZ2xlIENsb3VkIFZpc2lvbiBBUElcbiAgICAvLyAtIEFXUyBUZXh0cmFjdFxuICAgIC8vIC0gT3BlbkFJIEdQVC00IFZpc2lvblxuICAgIC8vIC0gQXp1cmUgQ29tcHV0ZXIgVmlzaW9uXG4gICAgXG4gICAgdHJ5IHtcbiAgICAgIC8vIEZvciBkZW1vIHB1cnBvc2VzLCB3ZSdsbCB1c2UgYSBzaW1wbGUgcmVnZXggcGF0dGVybiBtYXRjaGluZ1xuICAgICAgLy8gSW4gcmVhbGl0eSwgeW91J2Qgc2VuZCB0aGlzIHRvIGFuIEFJIHNlcnZpY2VcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgQUkgcHJvY2Vzc2luZyBkZWxheVxuICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDIwMDApKVxuICAgICAgXG4gICAgICAvLyBNb2NrIGV4dHJhY3RlZCBkYXRhIChpbiByZWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdvdWxkIGNvbWUgZnJvbSBBSSBzZXJ2aWNlKVxuICAgICAgY29uc3QgbW9ja1Jlc3VsdHMgPSBbXG4gICAgICAgIHsgbmFtZTogJ1ZpdGFtaW4gRDMnLCBkb3NhZ2U6ICcyMDAwIElVJywgY2F0ZWdvcnk6ICdWaXRhbWlucycgfSxcbiAgICAgICAgeyBuYW1lOiAnT21lZ2EtMyBGaXNoIE9pbCcsIGRvc2FnZTogJzEwMDBtZycsIGNhdGVnb3J5OiAnRXNzZW50aWFsIEZhdHR5IEFjaWRzJyB9LFxuICAgICAgICB7IG5hbWU6ICdNYWduZXNpdW0gR2x5Y2luYXRlJywgZG9zYWdlOiAnNDAwbWcnLCBjYXRlZ29yeTogJ01pbmVyYWxzJyB9LFxuICAgICAgICB7IG5hbWU6ICdQcm9iaW90aWNzJywgZG9zYWdlOiAnNTAgQmlsbGlvbiBDRlUnLCBjYXRlZ29yeTogJ0RpZ2VzdGl2ZSBIZWFsdGgnIH0sXG4gICAgICAgIHsgbmFtZTogJ1R1cm1lcmljIEN1cmN1bWluJywgZG9zYWdlOiAnNTAwbWcnLCBjYXRlZ29yeTogJ0hlcmJhbCcgfVxuICAgICAgXVxuICAgICAgXG4gICAgICAvLyBSZXR1cm4gYSByYW5kb20gcmVzdWx0IGZvciBkZW1vXG4gICAgICBjb25zdCByYW5kb21SZXN1bHQgPSBtb2NrUmVzdWx0c1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtb2NrUmVzdWx0cy5sZW5ndGgpXVxuICAgICAgcmV0dXJuIHJhbmRvbVJlc3VsdFxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGV4dHJhY3Rpbmcgc3VwcGxlbWVudCBpbmZvOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHt9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdXBkYXRlTGlicmFyeUl0ZW0gPSBhc3luYyAodXBkYXRlZEl0ZW06IFN1cHBsZW1lbnRMaWJyYXJ5SXRlbSkgPT4ge1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGRhdGVkTGlicmFyeSA9IHN1cHBsZW1lbnRMaWJyYXJ5Lm1hcChpdGVtID0+XG4gICAgICAgICAgaXRlbS5pZCA9PT0gdXBkYXRlZEl0ZW0uaWQgPyB1cGRhdGVkSXRlbSA6IGl0ZW1cbiAgICAgICAgKVxuICAgICAgICBzZXRTdXBwbGVtZW50TGlicmFyeSh1cGRhdGVkTGlicmFyeSlcbiAgICAgICAgYXdhaXQgc2F2ZVVzZXJTdXBwbGVtZW50TGlicmFyeSh1c2VyLmlkLCB1cGRhdGVkTGlicmFyeSlcbiAgICAgICAgc2V0RWRpdGluZ0l0ZW0obnVsbClcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHN1cHBsZW1lbnQ6JywgZXJyb3IpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVtb3ZlRnJvbUxpYnJhcnkgPSBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICAgIGlmICh1c2VyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB1cGRhdGVkTGlicmFyeSA9IHN1cHBsZW1lbnRMaWJyYXJ5LmZpbHRlcihzID0+IHMuaWQgIT09IGlkKVxuICAgICAgICBzZXRTdXBwbGVtZW50TGlicmFyeSh1cGRhdGVkTGlicmFyeSlcbiAgICAgICAgYXdhaXQgc2F2ZVVzZXJTdXBwbGVtZW50TGlicmFyeSh1c2VyLmlkLCB1cGRhdGVkTGlicmFyeSlcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlbW92aW5nIHN1cHBsZW1lbnQgZnJvbSBsaWJyYXJ5OicsIGVycm9yKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPExheW91dD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCBiZy1ibHVlLTYwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYW5pbWF0ZS1wdWxzZVwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCB0ZXh0LXdoaXRlXCI+8J+Tmjwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPkxvYWRpbmcgbGlicmFyeS4uLjwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L0xheW91dD5cbiAgICApXG4gIH1cblxuICBpZiAoIWlzQXV0aGVudGljYXRlZCkge1xuICAgIHJldHVybiAoXG4gICAgICA8TGF5b3V0PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5BdXRoZW50aWNhdGlvbiBSZXF1aXJlZDwvaDI+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+UGxlYXNlIGxvZyBpbiB0byBtYW5hZ2UgeW91ciBzdXBwbGVtZW50IGxpYnJhcnkuPC9wPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvTGF5b3V0PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPExheW91dD5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgcGItMjAgbWQ6cGItMFwiPlxuICAgICAgICB7LyogSGVhZGVyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNCBtZDpwLTYgc2hhZG93LWxnXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14c1wiPkFkZCwgZWRpdCwgYW5kIG9yZ2FuaXplIHlvdXIgc3VwcGxlbWVudHM8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gcC00IG1kOnAtNiBzcGFjZS15LTQgbWQ6c3BhY2UteS02XCI+XG4gICAgICAgICAgey8qIFN0YXRzIE92ZXJ2aWV3ICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMiBnYXAtMyBtZDpncmlkLWNvbHMtMyBtZDpnYXAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTQgbWQ6cC02IHJvdW5kZWQteGwgc2hhZG93LW1kIGJvcmRlciBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWQ6dGV4dC0zeGwgZm9udC1ib2xkIHRleHQtcHVycGxlLTYwMCBtYi0xXCI+e3N1cHBsZW1lbnRMaWJyYXJ5Lmxlbmd0aH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgbWQ6dGV4dC1zbSB0ZXh0LWdyYXktNjAwIGxlYWRpbmctdGlnaHRcIj5Ub3RhbCBTdXBwbGVtZW50czwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBwLTQgbWQ6cC02IHJvdW5kZWQteGwgc2hhZG93LW1kIGJvcmRlciBib3JkZXItZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWQ6dGV4dC0zeGwgZm9udC1ib2xkIHRleHQtYmx1ZS02MDAgbWItMVwiPntjYXRlZ29yaWVzLmxlbmd0aH08L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgbWQ6dGV4dC1zbSB0ZXh0LWdyYXktNjAwIGxlYWRpbmctdGlnaHRcIj5DYXRlZ29yaWVzPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHAtNCBtZDpwLTYgcm91bmRlZC14bCBzaGFkb3ctbWQgYm9yZGVyIGJvcmRlci1ncmF5LTEwMCBjb2wtc3Bhbi0yIG1kOmNvbC1zcGFuLTFcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWQ6dGV4dC0zeGwgZm9udC1ib2xkIHRleHQtZ3JlZW4tNjAwIG1iLTFcIj5cbiAgICAgICAgICAgICAgICAgIHtzdXBwbGVtZW50TGlicmFyeS5sZW5ndGggPiAwID8gTWF0aC5yb3VuZChzdXBwbGVtZW50TGlicmFyeS5sZW5ndGggLyBjYXRlZ29yaWVzLmxlbmd0aCAqIDEwKSAvIDEwIDogMH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQteHMgbWQ6dGV4dC1zbSB0ZXh0LWdyYXktNjAwIGxlYWRpbmctdGlnaHRcIj5BdmcgcGVyIENhdGVnb3J5PC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogU2VhcmNoIGFuZCBBZGQgU2VjdGlvbiAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LW1kIGJvcmRlciBib3JkZXItZ3JheS0xMDAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcHgtNCBtZDpweC02IHB5LTQgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBtZDpmbGV4LXJvdyBtZDppdGVtcy1jZW50ZXIgbWQ6anVzdGlmeS1iZXR3ZWVuIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtbGcgbWQ6dGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj5TdXBwbGVtZW50IExpYnJhcnk8L2gyPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNob3dBZGRNb2RhbCh0cnVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXB1cnBsZS02MDAgdGV4dC13aGl0ZSBweC00IG1kOnB4LTYgcHktMiBtZDpweS0zIHJvdW5kZWQteGwgaG92ZXI6YmctcHVycGxlLTcwMCBhY3RpdmU6YmctcHVycGxlLTgwMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDAgZm9udC1tZWRpdW0gdHJhbnNmb3JtIGFjdGl2ZTpzY2FsZS05NVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgQWRkIE5ldyBTdXBwbGVtZW50XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IG1kOnAtNlwiPlxuICAgICAgICAgICAgICB7LyogU2VhcmNoIElucHV0ICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLTZcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICB2YWx1ZT17c2VhcmNoVGVybX1cbiAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggc3VwcGxlbWVudHMgYnkgbmFtZSBvciBjYXRlZ29yeS4uLlwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwbC0xMCBwci00IHB5LTMgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXB1cnBsZS01MDAgZm9jdXM6Ym9yZGVyLXB1cnBsZS01MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImFic29sdXRlIGxlZnQtMyB0b3AtMy41IHRleHQtZ3JheS00MDBcIj7wn5SNPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogU3VwcGxlbWVudHMgTGlzdCAqL31cbiAgICAgICAgICAgICAge2ZpbHRlcmVkU3VwcGxlbWVudHMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcHktOFwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgbXgtYXV0byBtYi00IGJnLXB1cnBsZS01MCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0yeGxcIj7wn5OaPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAge3N1cHBsZW1lbnRMaWJyYXJ5Lmxlbmd0aCA9PT0gMCA/ICdObyBzdXBwbGVtZW50cyBpbiBsaWJyYXJ5JyA6ICdObyBzdXBwbGVtZW50cyBtYXRjaCB5b3VyIHNlYXJjaCd9XG4gICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICB7c3VwcGxlbWVudExpYnJhcnkubGVuZ3RoID09PSAwID8gJ0FkZCB5b3VyIGZpcnN0IHN1cHBsZW1lbnQgdG8gZ2V0IHN0YXJ0ZWQnIDogJ1RyeSBhIGRpZmZlcmVudCBzZWFyY2ggdGVybSd9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIHtjYXRlZ29yaWVzLm1hcChjYXRlZ29yeSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhdGVnb3J5U3VwcGxlbWVudHMgPSBmaWx0ZXJlZFN1cHBsZW1lbnRzLmZpbHRlcihzID0+IHMuY2F0ZWdvcnkgPT09IGNhdGVnb3J5KVxuICAgICAgICAgICAgICAgICAgICBpZiAoY2F0ZWdvcnlTdXBwbGVtZW50cy5sZW5ndGggPT09IDApIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtjYXRlZ29yeX0gY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1iYXNlIG1kOnRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBwYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtjYXRlZ29yeX0gKHtjYXRlZ29yeVN1cHBsZW1lbnRzLmxlbmd0aH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3J5U3VwcGxlbWVudHMubWFwKHN1cHBsZW1lbnQgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtzdXBwbGVtZW50LmlkfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gcC00IGJnLWdyYXktNTAgcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGhvdmVyOmJvcmRlci1wdXJwbGUtMzAwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2VkaXRpbmdJdGVtPy5pZCA9PT0gc3VwcGxlbWVudC5pZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VkaXRpbmdJdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEVkaXRpbmdJdGVtKHsuLi5lZGl0aW5nSXRlbSwgbmFtZTogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHVycGxlLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlZGl0aW5nSXRlbS5kZWZhdWx0RG9zYWdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFZGl0aW5nSXRlbSh7Li4uZWRpdGluZ0l0ZW0sIGRlZmF1bHREb3NhZ2U6IGUudGFyZ2V0LnZhbHVlfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXB1cnBsZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2VkaXRpbmdJdGVtLmNhdGVnb3J5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRFZGl0aW5nSXRlbSh7Li4uZWRpdGluZ0l0ZW0sIGNhdGVnb3J5OiBlLnRhcmdldC52YWx1ZX0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZCBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1wdXJwbGUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcmllcy5tYXAoKGNhdCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uIGtleT17Y2F0fSB2YWx1ZT17Y2F0fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzTmFtZT1cInRleHQtYmFzZSBtZDp0ZXh0LWxnIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj57c3VwcGxlbWVudC5uYW1lfTwvaDU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+e3N1cHBsZW1lbnQuZGVmYXVsdERvc2FnZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgbWwtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZWRpdGluZ0l0ZW0/LmlkID09PSBzdXBwbGVtZW50LmlkID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHVwZGF0ZUxpYnJhcnlJdGVtKGVkaXRpbmdJdGVtKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JlZW4tNjAwIHRleHQtd2hpdGUgcHgtMyBweS0xLjUgcm91bmRlZC1sZyB0ZXh0LXNtIGhvdmVyOmJnLWdyZWVuLTcwMCBhY3RpdmU6YmctZ3JlZW4tODAwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNhdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRFZGl0aW5nSXRlbShudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JheS02MDAgdGV4dC13aGl0ZSBweC0zIHB5LTEuNSByb3VuZGVkLWxnIHRleHQtc20gaG92ZXI6YmctZ3JheS03MDAgYWN0aXZlOmJnLWdyYXktODAwIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMCBmb250LW1lZGl1bVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0RWRpdGluZ0l0ZW0oc3VwcGxlbWVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgaG92ZXI6dGV4dC1ibHVlLTcwMCBwLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkVkaXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDinI/vuI9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiByZW1vdmVGcm9tTGlicmFyeShzdXBwbGVtZW50LmlkKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTcwMCBwLTIgcm91bmRlZC1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIPCfl5HvuI9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogQ2FtZXJhIE1vZGFsICovfVxuICAgICAge3Nob3dDYW1lcmEgJiYgKFxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgYmctYmxhY2sgYmctb3BhY2l0eS05MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy1tZCB3LWZ1bGwgbXgtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLXQteGwgcC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTRcIj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj5TY2FuIFN1cHBsZW1lbnQgTGFiZWw8L2gzPlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3N0b3BDYW1lcmF9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtZ3JheS02MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBtYi00XCI+XG4gICAgICAgICAgICAgICAgUG9zaXRpb24gdGhlIHN1cHBsZW1lbnQgbGFiZWwgd2l0aGluIHRoZSBmcmFtZSBhbmQgdGFwIGNhcHR1cmVcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgYmctYmxhY2tcIj5cbiAgICAgICAgICAgICAgPHZpZGVvXG4gICAgICAgICAgICAgICAgcmVmPXt2aWRlb1JlZn1cbiAgICAgICAgICAgICAgICBhdXRvUGxheVxuICAgICAgICAgICAgICAgIHBsYXlzSW5saW5lXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGgtNjQgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBPdmVybGF5IGd1aWRlICovfVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJvcmRlci0yIGJvcmRlci13aGl0ZSBib3JkZXItZGFzaGVkIHctNC81IGgtMy81IHJvdW5kZWQtbGcgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgdGV4dC1zbSBiZy1ibGFjayBiZy1vcGFjaXR5LTUwIHB4LTIgcHktMSByb3VuZGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uIGxhYmVsIGhlcmVcbiAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogQ2FwdHVyZSBidXR0b24gKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLTQgbGVmdC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXtjYXB0dXJlUGhvdG99XG4gICAgICAgICAgICAgICAgICBkaXNhYmxlZD17aXNQcm9jZXNzaW5nSW1hZ2V9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTE2IGgtMTYgYmctd2hpdGUgcm91bmRlZC1mdWxsIGJvcmRlci00IGJvcmRlci1ncmF5LTMwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbGcgaG92ZXI6YmctZ3JheS01MCB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7aXNQcm9jZXNzaW5nSW1hZ2UgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02IGgtNiBib3JkZXItMiBib3JkZXItYmx1ZS02MDAgYm9yZGVyLXQtdHJhbnNwYXJlbnQgcm91bmRlZC1mdWxsIGFuaW1hdGUtc3BpblwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLWJsdWUtNjAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWIteGwgcC00XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIHtpc1Byb2Nlc3NpbmdJbWFnZSA/ICdQcm9jZXNzaW5nIGltYWdlLi4uJyA6ICdUYXAgdGhlIGJ1dHRvbiB0byBjYXB0dXJlJ31cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgXG4gICAgICAgICAgey8qIEhpZGRlbiBjYW52YXMgZm9yIGltYWdlIHByb2Nlc3NpbmcgKi99XG4gICAgICAgICAgPGNhbnZhcyByZWY9e2NhbnZhc1JlZn0gY2xhc3NOYW1lPVwiaGlkZGVuXCIgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogUHJvY2Vzc2luZyBPdmVybGF5ICovfVxuICAgICAge2lzUHJvY2Vzc2luZ0ltYWdlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNzUgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei02MFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBwLTYgbWF4LXctc20gdy1mdWxsIG14LTQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IG14LWF1dG8gbWItNCBiZy1ibHVlLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJvcmRlci0yIGJvcmRlci1ibHVlLTYwMCBib3JkZXItdC10cmFuc3BhcmVudCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1zcGluXCI+PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+QW5hbHl6aW5nIEltYWdlPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICBFeHRyYWN0aW5nIHN1cHBsZW1lbnQgaW5mb3JtYXRpb24gZnJvbSB0aGUgbGFiZWwuLi5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICAgIHsvKiBBZGQgU3VwcGxlbWVudCBNb2RhbCAqL31cbiAgICAgICAge3Nob3dBZGRNb2RhbCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIGJnLWJsYWNrIGJnLW9wYWNpdHktNTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgei01MCBwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctMnhsIG1heC13LW1kIHctZnVsbCBtYXgtaC1bODB2aF0gb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcHVycGxlLTUwIHB4LTYgcHktNCBib3JkZXItYiBib3JkZXItcHVycGxlLTIwMFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj5BZGQgTmV3IFN1cHBsZW1lbnQ8L2gzPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0FkZE1vZGFsKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgIHNldE5ld1N1cHBsZW1lbnQoeyBuYW1lOiAnJywgZGVmYXVsdERvc2FnZTogJycsIGNhdGVnb3J5OiAnVml0YW1pbnMnIH0pXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgaG92ZXI6dGV4dC1ncmF5LTYwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsXCI+JnRpbWVzOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1wdXJwbGUtNjAwIG10LTFcIj5BZGQgYSBuZXcgc3VwcGxlbWVudCB0byB5b3VyIGxpYnJhcnk8L3A+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIENhbWVyYSBCdXR0b24gKi99XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC0zIGZsZXgganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17c3RhcnRDYW1lcmF9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGl0ZW1zLWNlbnRlciBnYXAtMiBweC00IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSB0ZXh0LXNtIGZvbnQtbWVkaXVtIHJvdW5kZWQtbGcgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWxnXCI+8J+Ttzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgU2NhbiBMYWJlbCB3aXRoIENhbWVyYVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTZcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgey8qIFN1cHBsZW1lbnQgTmFtZSAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIFN1cHBsZW1lbnQgTmFtZSAqXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U3VwcGxlbWVudC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3U3VwcGxlbWVudCh7Li4ubmV3U3VwcGxlbWVudCwgbmFtZTogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImUuZy4sIFZpdGFtaW4gRDNcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXB1cnBsZS01MDAgZm9jdXM6Ym9yZGVyLXB1cnBsZS01MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBEZWZhdWx0IERvc2FnZSAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIERlZmF1bHQgRG9zYWdlXG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U3VwcGxlbWVudC5kZWZhdWx0RG9zYWdlfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0TmV3U3VwcGxlbWVudCh7Li4ubmV3U3VwcGxlbWVudCwgZGVmYXVsdERvc2FnZTogZS50YXJnZXQudmFsdWV9KX1cbiAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImUuZy4sIDEwMDAgSVVcIlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXB1cnBsZS01MDAgZm9jdXM6Ym9yZGVyLXB1cnBsZS01MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgIHsvKiBDYXRlZ29yeSAqL31cbiAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIENhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17bmV3U3VwcGxlbWVudC5jYXRlZ29yeX1cbiAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldE5ld1N1cHBsZW1lbnQoey4uLm5ld1N1cHBsZW1lbnQsIGNhdGVnb3J5OiBlLnRhcmdldC52YWx1ZX0pfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLXB1cnBsZS01MDAgZm9jdXM6Ym9yZGVyLXB1cnBsZS01MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge2NhdGVnb3JpZXMubWFwKChjYXRlZ29yeSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e2NhdGVnb3J5fSB2YWx1ZT17Y2F0ZWdvcnl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2F0ZWdvcnl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIHsvKiBBY3Rpb24gQnV0dG9ucyAqL31cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZ2FwLTMgcHQtNiBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgbXQtNlwiPlxuICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgc2V0U2hvd0FkZE1vZGFsKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgIHNldE5ld1N1cHBsZW1lbnQoeyBuYW1lOiAnJywgZGVmYXVsdERvc2FnZTogJycsIGNhdGVnb3J5OiAnVml0YW1pbnMnIH0pXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXgtMSBiZy1ncmF5LTIwMCB0ZXh0LWdyYXktNzAwIHB5LTMgcHgtNCByb3VuZGVkLWxnIGhvdmVyOmJnLWdyYXktMzAwIHRyYW5zaXRpb24tY29sb3JzIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQ2FuY2VsXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGFkZFRvTGlicmFyeSgpXG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshbmV3U3VwcGxlbWVudC5uYW1lLnRyaW0oKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC0xIHB5LTMgcHgtNCByb3VuZGVkLWxnIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzICR7XG4gICAgICAgICAgICAgICAgICAgICAgbmV3U3VwcGxlbWVudC5uYW1lLnRyaW0oKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAnYmctcHVycGxlLTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLXB1cnBsZS03MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTEwMCB0ZXh0LWdyYXktNDAwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIEFkZCB0byBMaWJyYXJ5XG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgIDwvZGl2PlxuICAgIDwvTGF5b3V0PlxuICApXG59Il0sIm5hbWVzIjpbIlJlYWN0IiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJMYXlvdXQiLCJ1c2VBdXRoIiwiZ2V0VXNlclN1cHBsZW1lbnRMaWJyYXJ5Iiwic2F2ZVVzZXJTdXBwbGVtZW50TGlicmFyeSIsIk1hbmFnZUxpYnJhcnkiLCJpc0F1dGhlbnRpY2F0ZWQiLCJpc0xvYWRpbmciLCJ1c2VyIiwic3VwcGxlbWVudExpYnJhcnkiLCJzZXRTdXBwbGVtZW50TGlicmFyeSIsInNob3dBZGRNb2RhbCIsInNldFNob3dBZGRNb2RhbCIsImVkaXRpbmdJdGVtIiwic2V0RWRpdGluZ0l0ZW0iLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsInNob3dDYW1lcmEiLCJzZXRTaG93Q2FtZXJhIiwiaXNQcm9jZXNzaW5nSW1hZ2UiLCJzZXRJc1Byb2Nlc3NpbmdJbWFnZSIsInZpZGVvUmVmIiwiY2FudmFzUmVmIiwic3RyZWFtIiwic2V0U3RyZWFtIiwibmV3U3VwcGxlbWVudCIsInNldE5ld1N1cHBsZW1lbnQiLCJuYW1lIiwiZGVmYXVsdERvc2FnZSIsImNhdGVnb3J5IiwiY2F0ZWdvcmllcyIsImZpbHRlcmVkU3VwcGxlbWVudHMiLCJmaWx0ZXIiLCJzdXBwbGVtZW50IiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsImxvYWRMaWJyYXJ5IiwibGlicmFyeSIsImlkIiwiZXJyb3IiLCJjb25zb2xlIiwiYWRkVG9MaWJyYXJ5IiwidHJpbSIsIkRhdGUiLCJub3ciLCJ0b1N0cmluZyIsInVwZGF0ZWRMaWJyYXJ5Iiwic3RhcnRDYW1lcmEiLCJtZWRpYVN0cmVhbSIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImdldFVzZXJNZWRpYSIsInZpZGVvIiwiZmFjaW5nTW9kZSIsImN1cnJlbnQiLCJzcmNPYmplY3QiLCJhbGVydCIsInN0b3BDYW1lcmEiLCJnZXRUcmFja3MiLCJmb3JFYWNoIiwidHJhY2siLCJzdG9wIiwiY2FwdHVyZVBob3RvIiwiY2FudmFzIiwiY29udGV4dCIsImdldENvbnRleHQiLCJ3aWR0aCIsInZpZGVvV2lkdGgiLCJoZWlnaHQiLCJ2aWRlb0hlaWdodCIsImRyYXdJbWFnZSIsInRvQmxvYiIsImJsb2IiLCJwcm9jZXNzU3VwcGxlbWVudEltYWdlIiwiaW1hZ2VCbG9iIiwiYmFzZTY0SW1hZ2UiLCJibG9iVG9CYXNlNjQiLCJleHRyYWN0ZWRJbmZvIiwiZXh0cmFjdFN1cHBsZW1lbnRJbmZvIiwiZG9zYWdlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkZW5kIiwicmVzdWx0Iiwib25lcnJvciIsInJlYWRBc0RhdGFVUkwiLCJzZXRUaW1lb3V0IiwibW9ja1Jlc3VsdHMiLCJyYW5kb21SZXN1bHQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJsZW5ndGgiLCJ1cGRhdGVMaWJyYXJ5SXRlbSIsInVwZGF0ZWRJdGVtIiwibWFwIiwiaXRlbSIsInJlbW92ZUZyb21MaWJyYXJ5IiwicyIsImRpdiIsImNsYXNzTmFtZSIsInNwYW4iLCJwIiwiaDIiLCJyb3VuZCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJpbnB1dCIsInR5cGUiLCJ2YWx1ZSIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwiaDMiLCJjYXRlZ29yeVN1cHBsZW1lbnRzIiwic2VsZWN0IiwiY2F0Iiwib3B0aW9uIiwiaDUiLCJ0aXRsZSIsInJlZiIsImF1dG9QbGF5IiwicGxheXNJbmxpbmUiLCJkaXNhYmxlZCIsImxhYmVsIiwiYXV0b0ZvY3VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/library.tsx\n");

/***/ }),

/***/ "./utils/storage-enhanced.ts":
/*!***********************************!*\
  !*** ./utils/storage-enhanced.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addSupplementFromLibrary: () => (/* binding */ addSupplementFromLibrary),\n/* harmony export */   applyDailyTemplate: () => (/* binding */ applyDailyTemplate),\n/* harmony export */   createAccount: () => (/* binding */ createAccount),\n/* harmony export */   createSession: () => (/* binding */ createSession),\n/* harmony export */   getCurrentSession: () => (/* binding */ getCurrentSession),\n/* harmony export */   getDailyData: () => (/* binding */ getDailyData),\n/* harmony export */   getDailyTemplate: () => (/* binding */ getDailyTemplate),\n/* harmony export */   getSupplementLibrary: () => (/* binding */ getSupplementLibrary),\n/* harmony export */   getTodaysData: () => (/* binding */ getTodaysData),\n/* harmony export */   getUserDailyData: () => (/* binding */ getUserDailyData),\n/* harmony export */   getUserSupplementLibrary: () => (/* binding */ getUserSupplementLibrary),\n/* harmony export */   getUserTodaysData: () => (/* binding */ getUserTodaysData),\n/* harmony export */   loginUser: () => (/* binding */ loginUser),\n/* harmony export */   logout: () => (/* binding */ logout),\n/* harmony export */   migrateDataToFirebase: () => (/* binding */ migrateDataToFirebase),\n/* harmony export */   saveDailyData: () => (/* binding */ saveDailyData),\n/* harmony export */   saveDailyTemplate: () => (/* binding */ saveDailyTemplate),\n/* harmony export */   saveSupplementLibrary: () => (/* binding */ saveSupplementLibrary),\n/* harmony export */   saveUserSupplementLibrary: () => (/* binding */ saveUserSupplementLibrary),\n/* harmony export */   updateTodaysData: () => (/* binding */ updateTodaysData),\n/* harmony export */   updateUserDateData: () => (/* binding */ updateUserDateData),\n/* harmony export */   updateUserTodaysData: () => (/* binding */ updateUserTodaysData)\n/* harmony export */ });\n/* harmony import */ var _lib_firebase_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../lib/firebase-service */ \"./lib/firebase-service.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebase_service__WEBPACK_IMPORTED_MODULE_0__]);\n_lib_firebase_service__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n// Enhanced storage utilities with Firebase integration\n// Maintains backward compatibility with localStorage as fallback\n\n// Configuration flag to enable/disable Firebase\nconst USE_FIREBASE = \"true\" === \"true\";\n// Original localStorage functions for backward compatibility\nconst STORAGE_KEY = \"supplement-tracker-daily-data-v1\";\nconst LIBRARY_KEY = \"supplement-tracker-library-v1\";\nconst USERS_KEY = \"supplement-tracker-users-v1\";\nconst SESSION_KEY = \"supplement-tracker-session-v1\";\nfunction parseSupplements(supps) {\n    return supps.map((s)=>({\n            ...s,\n            takenAt: s.takenAt ? new Date(s.takenAt) : new Date(),\n            completed: !!s.completed\n        }));\n}\n// Enhanced functions that use Firebase when available, localStorage as fallback\nasync function getUserTodaysData(userId) {\n    if (USE_FIREBASE && \"undefined\" !== \"undefined\") {}\n    // Fallback to localStorage\n    return getUserTodaysDataLocal(userId);\n}\nasync function updateUserTodaysData(userId, supplements) {\n    if (USE_FIREBASE && \"undefined\" !== \"undefined\") {}\n    // Fallback to localStorage\n    updateUserTodaysDataLocal(userId, supplements);\n}\nasync function updateUserDateData(userId, dateString, supplements) {\n    if (USE_FIREBASE && \"undefined\" !== \"undefined\") {}\n    // Fallback to localStorage\n    updateUserDateDataLocal(userId, dateString, supplements);\n}\nasync function getUserDailyData(userId) {\n    if (USE_FIREBASE && \"undefined\" !== \"undefined\") {}\n    // Fallback to localStorage\n    return getUserDailyDataLocal(userId);\n}\nasync function getUserSupplementLibrary(userId) {\n    if (USE_FIREBASE && \"undefined\" !== \"undefined\") {}\n    // Fallback to localStorage\n    return getUserSupplementLibraryLocal(userId);\n}\nasync function saveUserSupplementLibrary(userId, library) {\n    if (USE_FIREBASE && \"undefined\" !== \"undefined\") {}\n    // Fallback to localStorage\n    saveUserSupplementLibraryLocal(userId, library);\n}\n// Helper function for adding supplements from library\nfunction addSupplementFromLibrary(libraryItem, timeCategory) {\n    return (0,_lib_firebase_service__WEBPACK_IMPORTED_MODULE_0__.createSupplementFromLibrary)(libraryItem, timeCategory);\n}\n// Migration function\nasync function migrateDataToFirebase(userId) {\n    if (USE_FIREBASE && \"undefined\" !== \"undefined\") {}\n    return {\n        success: false,\n        error: \"Firebase not enabled\"\n    };\n}\n// Original localStorage functions (preserved for backward compatibility)\nfunction getUserKey(userId, key) {\n    return `user_${userId}_${key}`;\n}\nfunction getUserTodaysDataLocal(userId) {\n    const today = new Date().toISOString().split(\"T\")[0];\n    const userKey = getUserKey(userId, today);\n    if (true) return {\n        date: today,\n        supplements: []\n    };\n    const data = localStorage.getItem(userKey);\n    if (data) {\n        const parsed = JSON.parse(data);\n        return {\n            ...parsed,\n            supplements: parsed.supplements.map((s)=>({\n                    ...s,\n                    takenAt: new Date(s.takenAt)\n                }))\n        };\n    }\n    return {\n        date: today,\n        supplements: []\n    };\n}\nfunction updateUserTodaysDataLocal(userId, supplements) {\n    const today = new Date().toISOString().split(\"T\")[0];\n    const userKey = getUserKey(userId, today);\n    const data = {\n        date: today,\n        supplements\n    };\n    if (false) {}\n}\nfunction updateUserDateDataLocal(userId, dateString, supplements) {\n    const userKey = getUserKey(userId, dateString);\n    const data = {\n        date: dateString,\n        supplements\n    };\n    if (false) {}\n}\nfunction getUserDailyDataLocal(userId) {\n    if (true) return [];\n    const allData = [];\n    const keys = Object.keys(localStorage);\n    const userPrefix = `user_${userId}_`;\n    keys.forEach((key)=>{\n        if (key.startsWith(userPrefix) && !key.includes(\"library\") && !key.includes(\"session\")) {\n            const data = localStorage.getItem(key);\n            if (data) {\n                try {\n                    const parsed = JSON.parse(data);\n                    if (parsed.date && parsed.supplements) {\n                        allData.push({\n                            ...parsed,\n                            supplements: parsed.supplements.map((s)=>({\n                                    ...s,\n                                    takenAt: new Date(s.takenAt)\n                                }))\n                        });\n                    }\n                } catch (e) {\n                // Skip invalid data\n                }\n            }\n        }\n    });\n    return allData.sort((a, b)=>new Date(a.date).getTime() - new Date(b.date).getTime());\n}\nfunction getUserSupplementLibraryLocal(userId) {\n    const userLibraryKey = getUserKey(userId, \"library\");\n    if (true) return getDefaultLibrary();\n    const library = localStorage.getItem(userLibraryKey);\n    if (library) {\n        return JSON.parse(library);\n    } else {\n        const defaultLibrary = getDefaultLibrary();\n        localStorage.setItem(userLibraryKey, JSON.stringify(defaultLibrary));\n        return defaultLibrary;\n    }\n}\nfunction saveUserSupplementLibraryLocal(userId, library) {\n    const userLibraryKey = getUserKey(userId, \"library\");\n    if (false) {}\n}\n// Default supplement library\nfunction getDefaultLibrary() {\n    return [\n        {\n            id: \"1\",\n            name: \"Vitamin D3\",\n            defaultDosage: \"2000 IU\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"2\",\n            name: \"Vitamin B12\",\n            defaultDosage: \"1000 mcg\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"3\",\n            name: \"Omega-3 Fish Oil\",\n            defaultDosage: \"1000 mg\",\n            category: \"Fatty Acids\"\n        },\n        {\n            id: \"4\",\n            name: \"Magnesium\",\n            defaultDosage: \"400 mg\",\n            category: \"Minerals\"\n        },\n        {\n            id: \"5\",\n            name: \"Vitamin C\",\n            defaultDosage: \"1000 mg\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"6\",\n            name: \"Zinc\",\n            defaultDosage: \"15 mg\",\n            category: \"Minerals\"\n        },\n        {\n            id: \"7\",\n            name: \"Probiotics\",\n            defaultDosage: \"10 billion CFU\",\n            category: \"Digestive\"\n        },\n        {\n            id: \"8\",\n            name: \"Multivitamin\",\n            defaultDosage: \"1 tablet\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"9\",\n            name: \"Calcium\",\n            defaultDosage: \"500 mg\",\n            category: \"Minerals\"\n        },\n        {\n            id: \"10\",\n            name: \"Iron\",\n            defaultDosage: \"18 mg\",\n            category: \"Minerals\"\n        },\n        {\n            id: \"11\",\n            name: \"Vitamin E\",\n            defaultDosage: \"400 IU\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"12\",\n            name: \"Biotin\",\n            defaultDosage: \"5000 mcg\",\n            category: \"Vitamins\"\n        },\n        {\n            id: \"13\",\n            name: \"Ashwagandha\",\n            defaultDosage: \"300 mg\",\n            category: \"Herbs\"\n        },\n        {\n            id: \"14\",\n            name: \"Turmeric\",\n            defaultDosage: \"500 mg\",\n            category: \"Herbs\"\n        },\n        {\n            id: \"15\",\n            name: \"CoQ10\",\n            defaultDosage: \"100 mg\",\n            category: \"Antioxidants\"\n        }\n    ];\n}\n// Legacy functions for backward compatibility (non-Firebase)\nfunction getDailyData() {\n    if (true) return [];\n    const raw = localStorage.getItem(STORAGE_KEY);\n    if (!raw) return [];\n    try {\n        const arr = JSON.parse(raw);\n        return arr.map((d)=>({\n                ...d,\n                supplements: parseSupplements(d.supplements || [])\n            }));\n    } catch  {\n        return [];\n    }\n}\nfunction saveDailyData(data) {\n    if (true) return;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n}\nfunction getTodaysData() {\n    const today = new Date().toISOString().split(\"T\")[0];\n    const all = getDailyData();\n    let day = all.find((d)=>d.date === today);\n    if (!day) {\n        day = {\n            date: today,\n            supplements: []\n        };\n        all.push(day);\n        saveDailyData(all);\n    }\n    return {\n        ...day,\n        supplements: parseSupplements(day.supplements || [])\n    };\n}\nfunction updateTodaysData(supplements) {\n    const today = new Date().toISOString().split(\"T\")[0];\n    const all = getDailyData();\n    const index = all.findIndex((d)=>d.date === today);\n    if (index >= 0) {\n        all[index] = {\n            date: today,\n            supplements\n        };\n    } else {\n        all.push({\n            date: today,\n            supplements\n        });\n    }\n    saveDailyData(all);\n}\nfunction getSupplementLibrary() {\n    if (true) return getDefaultLibrary();\n    const raw = localStorage.getItem(LIBRARY_KEY);\n    if (!raw) {\n        const library = getDefaultLibrary();\n        localStorage.setItem(LIBRARY_KEY, JSON.stringify(library));\n        return library;\n    }\n    try {\n        return JSON.parse(raw);\n    } catch  {\n        return getDefaultLibrary();\n    }\n}\nfunction saveSupplementLibrary(library) {\n    if (true) return;\n    localStorage.setItem(LIBRARY_KEY, JSON.stringify(library));\n}\n// User management functions (localStorage only for legacy compatibility)\nfunction getAllUsers() {\n    if (true) return [];\n    const users = localStorage.getItem(USERS_KEY);\n    return users ? JSON.parse(users) : [];\n}\nfunction saveUsers(users) {\n    if (false) {}\n}\n// Simple hash function for passwords (for demo purposes only)\nfunction simpleHash(password) {\n    let hash = 0;\n    for(let i = 0; i < password.length; i++){\n        const char = password.charCodeAt(i);\n        hash = (hash << 5) - hash + char;\n        hash = hash & hash // Convert to 32-bit integer\n        ;\n    }\n    return hash.toString();\n}\nfunction createAccount(data) {\n    const users = getAllUsers();\n    // Check if user already exists\n    if (users.find((u)=>u.email === data.email)) {\n        return {\n            success: false,\n            error: \"User already exists\"\n        };\n    }\n    const user = {\n        id: Date.now().toString(),\n        email: data.email,\n        name: data.name,\n        createdAt: new Date(),\n        lastLoginAt: new Date()\n    };\n    // Store hashed password separately (in real app, this would be server-side)\n    const hashedPassword = simpleHash(data.password);\n    localStorage.setItem(`password_${user.id}`, hashedPassword);\n    users.push(user);\n    saveUsers(users);\n    return {\n        success: true,\n        user\n    };\n}\nfunction loginUser(data) {\n    const users = getAllUsers();\n    const user = users.find((u)=>u.email === data.email);\n    if (!user) {\n        return {\n            success: false,\n            error: \"User not found\"\n        };\n    }\n    const storedPasswordHash = localStorage.getItem(`password_${user.id}`);\n    const inputPasswordHash = simpleHash(data.password);\n    if (storedPasswordHash !== inputPasswordHash) {\n        return {\n            success: false,\n            error: \"Invalid password\"\n        };\n    }\n    // Update last login\n    user.lastLoginAt = new Date();\n    const userIndex = users.findIndex((u)=>u.id === user.id);\n    users[userIndex] = user;\n    saveUsers(users);\n    return {\n        success: true,\n        user\n    };\n}\nfunction createSession(user) {\n    const session = {\n        userId: user.id,\n        email: user.email,\n        name: user.name,\n        token: Date.now().toString(),\n        expiresAt: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000) // 7 days\n    };\n    if (false) {}\n    return session;\n}\nfunction getCurrentSession() {\n    if (true) return null;\n    const sessionData = localStorage.getItem(SESSION_KEY);\n    if (!sessionData) return null;\n    try {\n        const session = JSON.parse(sessionData);\n        if (new Date() > new Date(session.expiresAt)) {\n            localStorage.removeItem(SESSION_KEY);\n            return null;\n        }\n        return session;\n    } catch  {\n        localStorage.removeItem(SESSION_KEY);\n        return null;\n    }\n}\nfunction logout() {\n    if (false) {}\n}\nconst DAILY_TEMPLATE_KEY = \"supplement_daily_template\";\nasync function saveDailyTemplate(userId, supplements) {\n    try {\n        // Convert supplements to template format (remove id, completed, takenAt)\n        const templateSupplements = supplements.map((supplement)=>({\n                name: supplement.name,\n                dosage: supplement.dosage,\n                timeCategory: supplement.timeCategory\n            }));\n        const template = {\n            id: \"daily-template\",\n            userId,\n            name: \"Daily Supplement Template\",\n            supplements: templateSupplements,\n            createdAt: new Date(),\n            updatedAt: new Date()\n        };\n        if (true) {\n            // Save to Firebase (we'll implement this in firebase-service.ts)\n            // For now, fall back to localStorage\n            console.log(\"Firebase template saving not yet implemented, using localStorage\");\n        }\n        // Save to localStorage as fallback\n        if (false) {}\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error saving daily template:\", error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        };\n    }\n}\nasync function getDailyTemplate(userId) {\n    try {\n        if (true) {\n            // Get from Firebase (we'll implement this in firebase-service.ts)\n            // For now, fall back to localStorage\n            console.log(\"Firebase template loading not yet implemented, using localStorage\");\n        }\n        // Get from localStorage as fallback\n        if (false) {}\n        return null;\n    } catch (error) {\n        console.error(\"Error getting daily template:\", error);\n        return null;\n    }\n}\nasync function applyDailyTemplate(userId, targetDate) {\n    try {\n        const template = await getDailyTemplate(userId);\n        if (!template) {\n            return {\n                success: false,\n                error: \"No daily template found\"\n            };\n        }\n        // Convert template supplements to actual supplements\n        const supplements = template.supplements.map((templateSup, index)=>({\n                id: `template-${index}-${Date.now()}`,\n                name: templateSup.name,\n                dosage: templateSup.dosage,\n                timeCategory: templateSup.timeCategory,\n                completed: false,\n                takenAt: new Date()\n            }));\n        // Apply to today or target date\n        const dateToApply = targetDate || new Date().toISOString().split(\"T\")[0];\n        // Update the day's data with the correct function\n        if (targetDate) {\n            await updateUserDateData(userId, dateToApply, supplements);\n        } else {\n            await updateUserTodaysData(userId, supplements);\n        }\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error applying daily template:\", error);\n        return {\n            success: false,\n            error: error instanceof Error ? error.message : \"Unknown error\"\n        };\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QjtRQUM1RDtRQUVBLHFEQUFxRDtRQUNyRCxNQUFNSyxjQUE0QnNHLFNBQVN0RyxXQUFXLENBQUNaLEdBQUcsQ0FBQyxDQUFDMkgsYUFBYWpELFFBQVc7Z0JBQ2xGZCxJQUFJLENBQUMsU0FBUyxFQUFFYyxNQUFNLENBQUMsRUFBRXZFLEtBQUswRixHQUFHLEdBQUcsQ0FBQztnQkFDckNoQyxNQUFNOEQsWUFBWTlELElBQUk7Z0JBQ3RCb0QsUUFBUVUsWUFBWVYsTUFBTTtnQkFDMUJ2RixjQUFjaUcsWUFBWWpHLFlBQVk7Z0JBQ3RDdEIsV0FBVztnQkFDWEYsU0FBUyxJQUFJQztZQUNmO1FBRUEsZ0NBQWdDO1FBQ2hDLE1BQU15SCxjQUFjRixjQUFjLElBQUl2SCxPQUFPNkIsV0FBVyxHQUFHQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7UUFFeEUsa0RBQWtEO1FBQ2xELElBQUl5RixZQUFZO1lBQ2QsTUFBTTVHLG1CQUFtQlIsUUFBUXNILGFBQWFoSDtRQUNoRCxPQUFPO1lBQ0wsTUFBTUQscUJBQXFCTCxRQUFRTTtRQUNyQztRQUVBLE9BQU87WUFBRWdCLFNBQVM7UUFBSztJQUN6QixFQUFFLE9BQU9yQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxrQ0FBa0NBO1FBQ2hELE9BQU87WUFBRXFCLFNBQVM7WUFBT3JCLE9BQU9BLGlCQUFpQjhHLFFBQVE5RyxNQUFNK0csT0FBTyxHQUFHO1FBQWdCO0lBQzNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdXBwbGVtZW50LXRyYWNrZXIvLi91dGlscy9zdG9yYWdlLWVuaGFuY2VkLnRzPzUwNmIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRW5oYW5jZWQgc3RvcmFnZSB1dGlsaXRpZXMgd2l0aCBGaXJlYmFzZSBpbnRlZ3JhdGlvblxuLy8gTWFpbnRhaW5zIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBsb2NhbFN0b3JhZ2UgYXMgZmFsbGJhY2tcblxuaW1wb3J0IHsgXG4gIGdldFVzZXJUb2RheXNEYXRhRnJvbUZpcmViYXNlLCBcbiAgdXBkYXRlVXNlclRvZGF5c0RhdGFJbkZpcmViYXNlLFxuICB1cGRhdGVVc2VyRGF0ZURhdGFJbkZpcmViYXNlLFxuICBnZXRVc2VyRGFpbHlEYXRhRnJvbUZpcmViYXNlLFxuICBnZXRVc2VyU3VwcGxlbWVudExpYnJhcnlGcm9tRmlyZWJhc2UsXG4gIHNhdmVVc2VyU3VwcGxlbWVudExpYnJhcnlUb0ZpcmViYXNlLFxuICBjcmVhdGVTdXBwbGVtZW50RnJvbUxpYnJhcnksXG4gIG1pZ3JhdGVMb2NhbFN0b3JhZ2VUb0ZpcmViYXNlXG59IGZyb20gJy4uL2xpYi9maXJlYmFzZS1zZXJ2aWNlJ1xuXG4vLyBFeHBvcnQgdHlwZXMgKHNhbWUgYXMgYmVmb3JlKVxuZXhwb3J0IHR5cGUgVGltZUNhdGVnb3J5ID1cbiAgfCAnTW9ybmluZyAoV2FrZSArIEJyZWFrZmFzdCknXG4gIHwgJ01pZGRheSAoTHVuY2ggKyBBZnRlcm5vb24pJ1xuICB8ICdQcmUtV29ya291dCAoV29ya291dCBkYXlzKSdcbiAgfCAnRXZlbmluZyAoRGlubmVyKSdcbiAgfCAnQmVmb3JlIEJlZCdcblxuZXhwb3J0IGludGVyZmFjZSBTdXBwbGVtZW50IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgZG9zYWdlOiBzdHJpbmdcbiAgdGltZUNhdGVnb3J5OiBUaW1lQ2F0ZWdvcnlcbiAgdGFrZW5BdDogRGF0ZVxuICBjb21wbGV0ZWQ6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEYXlEYXRhIHtcbiAgZGF0ZTogc3RyaW5nIC8vIFlZWVktTU0tRERcbiAgc3VwcGxlbWVudHM6IFN1cHBsZW1lbnRbXVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFN1cHBsZW1lbnRMaWJyYXJ5SXRlbSB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGRlZmF1bHREb3NhZ2U6IHN0cmluZ1xuICBjYXRlZ29yeTogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgY3JlYXRlZEF0OiBEYXRlXG4gIGxhc3RMb2dpbkF0OiBEYXRlXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFNlc3Npb24ge1xuICB1c2VySWQ6IHN0cmluZ1xuICBlbWFpbDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xuICB0b2tlbjogc3RyaW5nXG4gIGV4cGlyZXNBdDogRGF0ZVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUFjY291bnREYXRhIHtcbiAgZW1haWw6IHN0cmluZ1xuICBwYXNzd29yZDogc3RyaW5nXG4gIG5hbWU6IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2luRGF0YSB7XG4gIGVtYWlsOiBzdHJpbmdcbiAgcGFzc3dvcmQ6IHN0cmluZ1xufVxuXG4vLyBDb25maWd1cmF0aW9uIGZsYWcgdG8gZW5hYmxlL2Rpc2FibGUgRmlyZWJhc2VcbmNvbnN0IFVTRV9GSVJFQkFTRSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1VTRV9GSVJFQkFTRSA9PT0gJ3RydWUnXG5cbi8vIE9yaWdpbmFsIGxvY2FsU3RvcmFnZSBmdW5jdGlvbnMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmNvbnN0IFNUT1JBR0VfS0VZID0gJ3N1cHBsZW1lbnQtdHJhY2tlci1kYWlseS1kYXRhLXYxJ1xuY29uc3QgTElCUkFSWV9LRVkgPSAnc3VwcGxlbWVudC10cmFja2VyLWxpYnJhcnktdjEnXG5jb25zdCBVU0VSU19LRVkgPSAnc3VwcGxlbWVudC10cmFja2VyLXVzZXJzLXYxJ1xuY29uc3QgU0VTU0lPTl9LRVkgPSAnc3VwcGxlbWVudC10cmFja2VyLXNlc3Npb24tdjEnXG5cbmZ1bmN0aW9uIHBhcnNlU3VwcGxlbWVudHMoc3VwcHM6IGFueVtdKTogU3VwcGxlbWVudFtdIHtcbiAgcmV0dXJuIHN1cHBzLm1hcCgocykgPT4gKHtcbiAgICAuLi5zLFxuICAgIHRha2VuQXQ6IHMudGFrZW5BdCA/IG5ldyBEYXRlKHMudGFrZW5BdCkgOiBuZXcgRGF0ZSgpLFxuICAgIGNvbXBsZXRlZDogISFzLmNvbXBsZXRlZCxcbiAgfSkpXG59XG5cbi8vIEVuaGFuY2VkIGZ1bmN0aW9ucyB0aGF0IHVzZSBGaXJlYmFzZSB3aGVuIGF2YWlsYWJsZSwgbG9jYWxTdG9yYWdlIGFzIGZhbGxiYWNrXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclRvZGF5c0RhdGEodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPERheURhdGE+IHtcbiAgaWYgKFVTRV9GSVJFQkFTRSAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZ2V0VXNlclRvZGF5c0RhdGFGcm9tRmlyZWJhc2UodXNlcklkKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlIGVycm9yLCBmYWxsaW5nIGJhY2sgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKVxuICAgIH1cbiAgfVxuICBcbiAgLy8gRmFsbGJhY2sgdG8gbG9jYWxTdG9yYWdlXG4gIHJldHVybiBnZXRVc2VyVG9kYXlzRGF0YUxvY2FsKHVzZXJJZClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVVzZXJUb2RheXNEYXRhKHVzZXJJZDogc3RyaW5nLCBzdXBwbGVtZW50czogU3VwcGxlbWVudFtdKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChVU0VfRklSRUJBU0UgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdXBkYXRlVXNlclRvZGF5c0RhdGFJbkZpcmViYXNlKHVzZXJJZCwgc3VwcGxlbWVudHMpXG4gICAgICByZXR1cm5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdGaXJlYmFzZSBlcnJvciwgZmFsbGluZyBiYWNrIHRvIGxvY2FsU3RvcmFnZTonLCBlcnJvcilcbiAgICB9XG4gIH1cbiAgXG4gIC8vIEZhbGxiYWNrIHRvIGxvY2FsU3RvcmFnZVxuICB1cGRhdGVVc2VyVG9kYXlzRGF0YUxvY2FsKHVzZXJJZCwgc3VwcGxlbWVudHMpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyRGF0ZURhdGEodXNlcklkOiBzdHJpbmcsIGRhdGVTdHJpbmc6IHN0cmluZywgc3VwcGxlbWVudHM6IFN1cHBsZW1lbnRbXSk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoVVNFX0ZJUkVCQVNFICYmIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHVwZGF0ZVVzZXJEYXRlRGF0YUluRmlyZWJhc2UodXNlcklkLCBkYXRlU3RyaW5nLCBzdXBwbGVtZW50cylcbiAgICAgIHJldHVyblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlIGVycm9yLCBmYWxsaW5nIGJhY2sgdG8gbG9jYWxTdG9yYWdlOicsIGVycm9yKVxuICAgIH1cbiAgfVxuICBcbiAgLy8gRmFsbGJhY2sgdG8gbG9jYWxTdG9yYWdlXG4gIHVwZGF0ZVVzZXJEYXRlRGF0YUxvY2FsKHVzZXJJZCwgZGF0ZVN0cmluZywgc3VwcGxlbWVudHMpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyRGFpbHlEYXRhKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxEYXlEYXRhW10+IHtcbiAgaWYgKFVTRV9GSVJFQkFTRSAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZ2V0VXNlckRhaWx5RGF0YUZyb21GaXJlYmFzZSh1c2VySWQpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmlyZWJhc2UgZXJyb3IsIGZhbGxpbmcgYmFjayB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpXG4gICAgfVxuICB9XG4gIFxuICAvLyBGYWxsYmFjayB0byBsb2NhbFN0b3JhZ2VcbiAgcmV0dXJuIGdldFVzZXJEYWlseURhdGFMb2NhbCh1c2VySWQpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRVc2VyU3VwcGxlbWVudExpYnJhcnkodXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPFN1cHBsZW1lbnRMaWJyYXJ5SXRlbVtdPiB7XG4gIGlmIChVU0VfRklSRUJBU0UgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IGdldFVzZXJTdXBwbGVtZW50TGlicmFyeUZyb21GaXJlYmFzZSh1c2VySWQpXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmlyZWJhc2UgZXJyb3IsIGZhbGxpbmcgYmFjayB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpXG4gICAgfVxuICB9XG4gIFxuICAvLyBGYWxsYmFjayB0byBsb2NhbFN0b3JhZ2VcbiAgcmV0dXJuIGdldFVzZXJTdXBwbGVtZW50TGlicmFyeUxvY2FsKHVzZXJJZClcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNhdmVVc2VyU3VwcGxlbWVudExpYnJhcnkodXNlcklkOiBzdHJpbmcsIGxpYnJhcnk6IFN1cHBsZW1lbnRMaWJyYXJ5SXRlbVtdKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmIChVU0VfRklSRUJBU0UgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2F2ZVVzZXJTdXBwbGVtZW50TGlicmFyeVRvRmlyZWJhc2UodXNlcklkLCBsaWJyYXJ5KVxuICAgICAgcmV0dXJuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUud2FybignRmlyZWJhc2UgZXJyb3IsIGZhbGxpbmcgYmFjayB0byBsb2NhbFN0b3JhZ2U6JywgZXJyb3IpXG4gICAgfVxuICB9XG4gIFxuICAvLyBGYWxsYmFjayB0byBsb2NhbFN0b3JhZ2VcbiAgc2F2ZVVzZXJTdXBwbGVtZW50TGlicmFyeUxvY2FsKHVzZXJJZCwgbGlicmFyeSlcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIGZvciBhZGRpbmcgc3VwcGxlbWVudHMgZnJvbSBsaWJyYXJ5XG5leHBvcnQgZnVuY3Rpb24gYWRkU3VwcGxlbWVudEZyb21MaWJyYXJ5KGxpYnJhcnlJdGVtOiBTdXBwbGVtZW50TGlicmFyeUl0ZW0sIHRpbWVDYXRlZ29yeTogVGltZUNhdGVnb3J5KTogU3VwcGxlbWVudCB7XG4gIHJldHVybiBjcmVhdGVTdXBwbGVtZW50RnJvbUxpYnJhcnkobGlicmFyeUl0ZW0sIHRpbWVDYXRlZ29yeSlcbn1cblxuLy8gTWlncmF0aW9uIGZ1bmN0aW9uXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWlncmF0ZURhdGFUb0ZpcmViYXNlKHVzZXJJZDogc3RyaW5nKSB7XG4gIGlmIChVU0VfRklSRUJBU0UgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gYXdhaXQgbWlncmF0ZUxvY2FsU3RvcmFnZVRvRmlyZWJhc2UodXNlcklkKVxuICB9XG4gIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0ZpcmViYXNlIG5vdCBlbmFibGVkJyB9XG59XG5cbi8vIE9yaWdpbmFsIGxvY2FsU3RvcmFnZSBmdW5jdGlvbnMgKHByZXNlcnZlZCBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSlcbmZ1bmN0aW9uIGdldFVzZXJLZXkodXNlcklkOiBzdHJpbmcsIGtleTogc3RyaW5nKTogc3RyaW5nIHtcbiAgcmV0dXJuIGB1c2VyXyR7dXNlcklkfV8ke2tleX1gXG59XG5cbmZ1bmN0aW9uIGdldFVzZXJUb2RheXNEYXRhTG9jYWwodXNlcklkOiBzdHJpbmcpOiBEYXlEYXRhIHtcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxuICBjb25zdCB1c2VyS2V5ID0gZ2V0VXNlcktleSh1c2VySWQsIHRvZGF5KVxuICBcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4geyBkYXRlOiB0b2RheSwgc3VwcGxlbWVudHM6IFtdIH1cbiAgXG4gIGNvbnN0IGRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh1c2VyS2V5KVxuICBpZiAoZGF0YSkge1xuICAgIGNvbnN0IHBhcnNlZCA9IEpTT04ucGFyc2UoZGF0YSlcbiAgICByZXR1cm4ge1xuICAgICAgLi4ucGFyc2VkLFxuICAgICAgc3VwcGxlbWVudHM6IHBhcnNlZC5zdXBwbGVtZW50cy5tYXAoKHM6IGFueSkgPT4gKHtcbiAgICAgICAgLi4ucyxcbiAgICAgICAgdGFrZW5BdDogbmV3IERhdGUocy50YWtlbkF0KVxuICAgICAgfSkpXG4gICAgfVxuICB9XG4gIHJldHVybiB7IGRhdGU6IHRvZGF5LCBzdXBwbGVtZW50czogW10gfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVVc2VyVG9kYXlzRGF0YUxvY2FsKHVzZXJJZDogc3RyaW5nLCBzdXBwbGVtZW50czogU3VwcGxlbWVudFtdKSB7XG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cbiAgY29uc3QgdXNlcktleSA9IGdldFVzZXJLZXkodXNlcklkLCB0b2RheSlcbiAgY29uc3QgZGF0YTogRGF5RGF0YSA9IHsgZGF0ZTogdG9kYXksIHN1cHBsZW1lbnRzIH1cbiAgXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHVzZXJLZXksIEpTT04uc3RyaW5naWZ5KGRhdGEpKVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVVzZXJEYXRlRGF0YUxvY2FsKHVzZXJJZDogc3RyaW5nLCBkYXRlU3RyaW5nOiBzdHJpbmcsIHN1cHBsZW1lbnRzOiBTdXBwbGVtZW50W10pIHtcbiAgY29uc3QgdXNlcktleSA9IGdldFVzZXJLZXkodXNlcklkLCBkYXRlU3RyaW5nKVxuICBjb25zdCBkYXRhOiBEYXlEYXRhID0geyBkYXRlOiBkYXRlU3RyaW5nLCBzdXBwbGVtZW50cyB9XG4gIFxuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh1c2VyS2V5LCBKU09OLnN0cmluZ2lmeShkYXRhKSlcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRVc2VyRGFpbHlEYXRhTG9jYWwodXNlcklkOiBzdHJpbmcpOiBEYXlEYXRhW10ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBbXVxuICBcbiAgY29uc3QgYWxsRGF0YTogRGF5RGF0YVtdID0gW11cbiAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSlcbiAgY29uc3QgdXNlclByZWZpeCA9IGB1c2VyXyR7dXNlcklkfV9gXG4gIFxuICBrZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICBpZiAoa2V5LnN0YXJ0c1dpdGgodXNlclByZWZpeCkgJiYgIWtleS5pbmNsdWRlcygnbGlicmFyeScpICYmICFrZXkuaW5jbHVkZXMoJ3Nlc3Npb24nKSkge1xuICAgICAgY29uc3QgZGF0YSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSlcbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgcGFyc2VkID0gSlNPTi5wYXJzZShkYXRhKVxuICAgICAgICAgIGlmIChwYXJzZWQuZGF0ZSAmJiBwYXJzZWQuc3VwcGxlbWVudHMpIHtcbiAgICAgICAgICAgIGFsbERhdGEucHVzaCh7XG4gICAgICAgICAgICAgIC4uLnBhcnNlZCxcbiAgICAgICAgICAgICAgc3VwcGxlbWVudHM6IHBhcnNlZC5zdXBwbGVtZW50cy5tYXAoKHM6IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5zLFxuICAgICAgICAgICAgICAgIHRha2VuQXQ6IG5ldyBEYXRlKHMudGFrZW5BdClcbiAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIFNraXAgaW52YWxpZCBkYXRhXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIFxuICByZXR1cm4gYWxsRGF0YS5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShhLmRhdGUpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGIuZGF0ZSkuZ2V0VGltZSgpKVxufVxuXG5mdW5jdGlvbiBnZXRVc2VyU3VwcGxlbWVudExpYnJhcnlMb2NhbCh1c2VySWQ6IHN0cmluZyk6IFN1cHBsZW1lbnRMaWJyYXJ5SXRlbVtdIHtcbiAgY29uc3QgdXNlckxpYnJhcnlLZXkgPSBnZXRVc2VyS2V5KHVzZXJJZCwgJ2xpYnJhcnknKVxuICBcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZ2V0RGVmYXVsdExpYnJhcnkoKVxuICBcbiAgY29uc3QgbGlicmFyeSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHVzZXJMaWJyYXJ5S2V5KVxuICBpZiAobGlicmFyeSkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGxpYnJhcnkpXG4gIH0gZWxzZSB7XG4gICAgY29uc3QgZGVmYXVsdExpYnJhcnkgPSBnZXREZWZhdWx0TGlicmFyeSgpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odXNlckxpYnJhcnlLZXksIEpTT04uc3RyaW5naWZ5KGRlZmF1bHRMaWJyYXJ5KSlcbiAgICByZXR1cm4gZGVmYXVsdExpYnJhcnlcbiAgfVxufVxuXG5mdW5jdGlvbiBzYXZlVXNlclN1cHBsZW1lbnRMaWJyYXJ5TG9jYWwodXNlcklkOiBzdHJpbmcsIGxpYnJhcnk6IFN1cHBsZW1lbnRMaWJyYXJ5SXRlbVtdKSB7XG4gIGNvbnN0IHVzZXJMaWJyYXJ5S2V5ID0gZ2V0VXNlcktleSh1c2VySWQsICdsaWJyYXJ5JylcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odXNlckxpYnJhcnlLZXksIEpTT04uc3RyaW5naWZ5KGxpYnJhcnkpKVxuICB9XG59XG5cbi8vIERlZmF1bHQgc3VwcGxlbWVudCBsaWJyYXJ5XG5mdW5jdGlvbiBnZXREZWZhdWx0TGlicmFyeSgpOiBTdXBwbGVtZW50TGlicmFyeUl0ZW1bXSB7XG4gIHJldHVybiBbXG4gICAgeyBpZDogJzEnLCBuYW1lOiAnVml0YW1pbiBEMycsIGRlZmF1bHREb3NhZ2U6ICcyMDAwIElVJywgY2F0ZWdvcnk6ICdWaXRhbWlucycgfSxcbiAgICB7IGlkOiAnMicsIG5hbWU6ICdWaXRhbWluIEIxMicsIGRlZmF1bHREb3NhZ2U6ICcxMDAwIG1jZycsIGNhdGVnb3J5OiAnVml0YW1pbnMnIH0sXG4gICAgeyBpZDogJzMnLCBuYW1lOiAnT21lZ2EtMyBGaXNoIE9pbCcsIGRlZmF1bHREb3NhZ2U6ICcxMDAwIG1nJywgY2F0ZWdvcnk6ICdGYXR0eSBBY2lkcycgfSxcbiAgICB7IGlkOiAnNCcsIG5hbWU6ICdNYWduZXNpdW0nLCBkZWZhdWx0RG9zYWdlOiAnNDAwIG1nJywgY2F0ZWdvcnk6ICdNaW5lcmFscycgfSxcbiAgICB7IGlkOiAnNScsIG5hbWU6ICdWaXRhbWluIEMnLCBkZWZhdWx0RG9zYWdlOiAnMTAwMCBtZycsIGNhdGVnb3J5OiAnVml0YW1pbnMnIH0sXG4gICAgeyBpZDogJzYnLCBuYW1lOiAnWmluYycsIGRlZmF1bHREb3NhZ2U6ICcxNSBtZycsIGNhdGVnb3J5OiAnTWluZXJhbHMnIH0sXG4gICAgeyBpZDogJzcnLCBuYW1lOiAnUHJvYmlvdGljcycsIGRlZmF1bHREb3NhZ2U6ICcxMCBiaWxsaW9uIENGVScsIGNhdGVnb3J5OiAnRGlnZXN0aXZlJyB9LFxuICAgIHsgaWQ6ICc4JywgbmFtZTogJ011bHRpdml0YW1pbicsIGRlZmF1bHREb3NhZ2U6ICcxIHRhYmxldCcsIGNhdGVnb3J5OiAnVml0YW1pbnMnIH0sXG4gICAgeyBpZDogJzknLCBuYW1lOiAnQ2FsY2l1bScsIGRlZmF1bHREb3NhZ2U6ICc1MDAgbWcnLCBjYXRlZ29yeTogJ01pbmVyYWxzJyB9LFxuICAgIHsgaWQ6ICcxMCcsIG5hbWU6ICdJcm9uJywgZGVmYXVsdERvc2FnZTogJzE4IG1nJywgY2F0ZWdvcnk6ICdNaW5lcmFscycgfSxcbiAgICB7IGlkOiAnMTEnLCBuYW1lOiAnVml0YW1pbiBFJywgZGVmYXVsdERvc2FnZTogJzQwMCBJVScsIGNhdGVnb3J5OiAnVml0YW1pbnMnIH0sXG4gICAgeyBpZDogJzEyJywgbmFtZTogJ0Jpb3RpbicsIGRlZmF1bHREb3NhZ2U6ICc1MDAwIG1jZycsIGNhdGVnb3J5OiAnVml0YW1pbnMnIH0sXG4gICAgeyBpZDogJzEzJywgbmFtZTogJ0FzaHdhZ2FuZGhhJywgZGVmYXVsdERvc2FnZTogJzMwMCBtZycsIGNhdGVnb3J5OiAnSGVyYnMnIH0sXG4gICAgeyBpZDogJzE0JywgbmFtZTogJ1R1cm1lcmljJywgZGVmYXVsdERvc2FnZTogJzUwMCBtZycsIGNhdGVnb3J5OiAnSGVyYnMnIH0sXG4gICAgeyBpZDogJzE1JywgbmFtZTogJ0NvUTEwJywgZGVmYXVsdERvc2FnZTogJzEwMCBtZycsIGNhdGVnb3J5OiAnQW50aW94aWRhbnRzJyB9XG4gIF1cbn1cblxuLy8gTGVnYWN5IGZ1bmN0aW9ucyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eSAobm9uLUZpcmViYXNlKVxuZXhwb3J0IGZ1bmN0aW9uIGdldERhaWx5RGF0YSgpOiBEYXlEYXRhW10ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBbXVxuICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTVE9SQUdFX0tFWSlcbiAgaWYgKCFyYXcpIHJldHVybiBbXVxuICB0cnkge1xuICAgIGNvbnN0IGFyciA9IEpTT04ucGFyc2UocmF3KVxuICAgIHJldHVybiBhcnIubWFwKChkOiBhbnkpID0+ICh7XG4gICAgICAuLi5kLFxuICAgICAgc3VwcGxlbWVudHM6IHBhcnNlU3VwcGxlbWVudHMoZC5zdXBwbGVtZW50cyB8fCBbXSksXG4gICAgfSkpXG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBbXVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlRGFpbHlEYXRhKGRhdGE6IERheURhdGFbXSkge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVyblxuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTVE9SQUdFX0tFWSwgSlNPTi5zdHJpbmdpZnkoZGF0YSkpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb2RheXNEYXRhKCk6IERheURhdGEge1xuICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXG4gIGNvbnN0IGFsbCA9IGdldERhaWx5RGF0YSgpXG4gIGxldCBkYXkgPSBhbGwuZmluZCgoZCkgPT4gZC5kYXRlID09PSB0b2RheSlcbiAgaWYgKCFkYXkpIHtcbiAgICBkYXkgPSB7IGRhdGU6IHRvZGF5LCBzdXBwbGVtZW50czogW10gfVxuICAgIGFsbC5wdXNoKGRheSlcbiAgICBzYXZlRGFpbHlEYXRhKGFsbClcbiAgfVxuICByZXR1cm4ge1xuICAgIC4uLmRheSxcbiAgICBzdXBwbGVtZW50czogcGFyc2VTdXBwbGVtZW50cyhkYXkuc3VwcGxlbWVudHMgfHwgW10pLFxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVUb2RheXNEYXRhKHN1cHBsZW1lbnRzOiBTdXBwbGVtZW50W10pIHtcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxuICBjb25zdCBhbGwgPSBnZXREYWlseURhdGEoKVxuICBjb25zdCBpbmRleCA9IGFsbC5maW5kSW5kZXgoKGQpID0+IGQuZGF0ZSA9PT0gdG9kYXkpXG4gIFxuICBpZiAoaW5kZXggPj0gMCkge1xuICAgIGFsbFtpbmRleF0gPSB7IGRhdGU6IHRvZGF5LCBzdXBwbGVtZW50cyB9XG4gIH0gZWxzZSB7XG4gICAgYWxsLnB1c2goeyBkYXRlOiB0b2RheSwgc3VwcGxlbWVudHMgfSlcbiAgfVxuICBcbiAgc2F2ZURhaWx5RGF0YShhbGwpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdXBwbGVtZW50TGlicmFyeSgpOiBTdXBwbGVtZW50TGlicmFyeUl0ZW1bXSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGdldERlZmF1bHRMaWJyYXJ5KClcbiAgXG4gIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExJQlJBUllfS0VZKVxuICBpZiAoIXJhdykge1xuICAgIGNvbnN0IGxpYnJhcnkgPSBnZXREZWZhdWx0TGlicmFyeSgpXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTElCUkFSWV9LRVksIEpTT04uc3RyaW5naWZ5KGxpYnJhcnkpKVxuICAgIHJldHVybiBsaWJyYXJ5XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmF3KVxuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZ2V0RGVmYXVsdExpYnJhcnkoKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzYXZlU3VwcGxlbWVudExpYnJhcnkobGlicmFyeTogU3VwcGxlbWVudExpYnJhcnlJdGVtW10pIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm5cbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTElCUkFSWV9LRVksIEpTT04uc3RyaW5naWZ5KGxpYnJhcnkpKVxufVxuXG4vLyBVc2VyIG1hbmFnZW1lbnQgZnVuY3Rpb25zIChsb2NhbFN0b3JhZ2Ugb25seSBmb3IgbGVnYWN5IGNvbXBhdGliaWxpdHkpXG5mdW5jdGlvbiBnZXRBbGxVc2VycygpOiBVc2VyW10ge1xuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBbXVxuICBjb25zdCB1c2VycyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFVTRVJTX0tFWSlcbiAgcmV0dXJuIHVzZXJzID8gSlNPTi5wYXJzZSh1c2VycykgOiBbXVxufVxuXG5mdW5jdGlvbiBzYXZlVXNlcnModXNlcnM6IFVzZXJbXSkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShVU0VSU19LRVksIEpTT04uc3RyaW5naWZ5KHVzZXJzKSlcbiAgfVxufVxuXG4vLyBTaW1wbGUgaGFzaCBmdW5jdGlvbiBmb3IgcGFzc3dvcmRzIChmb3IgZGVtbyBwdXJwb3NlcyBvbmx5KVxuZnVuY3Rpb24gc2ltcGxlSGFzaChwYXNzd29yZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgbGV0IGhhc2ggPSAwXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcGFzc3dvcmQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGFyID0gcGFzc3dvcmQuY2hhckNvZGVBdChpKVxuICAgIGhhc2ggPSAoKGhhc2ggPDwgNSkgLSBoYXNoKSArIGNoYXJcbiAgICBoYXNoID0gaGFzaCAmIGhhc2ggLy8gQ29udmVydCB0byAzMi1iaXQgaW50ZWdlclxuICB9XG4gIHJldHVybiBoYXNoLnRvU3RyaW5nKClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUFjY291bnQoZGF0YTogQ3JlYXRlQWNjb3VudERhdGEpIHtcbiAgY29uc3QgdXNlcnMgPSBnZXRBbGxVc2VycygpXG4gIFxuICAvLyBDaGVjayBpZiB1c2VyIGFscmVhZHkgZXhpc3RzXG4gIGlmICh1c2Vycy5maW5kKHUgPT4gdS5lbWFpbCA9PT0gZGF0YS5lbWFpbCkpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdVc2VyIGFscmVhZHkgZXhpc3RzJyB9XG4gIH1cbiAgXG4gIGNvbnN0IHVzZXI6IFVzZXIgPSB7XG4gICAgaWQ6IERhdGUubm93KCkudG9TdHJpbmcoKSxcbiAgICBlbWFpbDogZGF0YS5lbWFpbCxcbiAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLFxuICAgIGxhc3RMb2dpbkF0OiBuZXcgRGF0ZSgpXG4gIH1cbiAgXG4gIC8vIFN0b3JlIGhhc2hlZCBwYXNzd29yZCBzZXBhcmF0ZWx5IChpbiByZWFsIGFwcCwgdGhpcyB3b3VsZCBiZSBzZXJ2ZXItc2lkZSlcbiAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBzaW1wbGVIYXNoKGRhdGEucGFzc3dvcmQpXG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBwYXNzd29yZF8ke3VzZXIuaWR9YCwgaGFzaGVkUGFzc3dvcmQpXG4gIFxuICB1c2Vycy5wdXNoKHVzZXIpXG4gIHNhdmVVc2Vycyh1c2VycylcbiAgXG4gIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIHVzZXIgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9naW5Vc2VyKGRhdGE6IExvZ2luRGF0YSkge1xuICBjb25zdCB1c2VycyA9IGdldEFsbFVzZXJzKClcbiAgY29uc3QgdXNlciA9IHVzZXJzLmZpbmQodSA9PiB1LmVtYWlsID09PSBkYXRhLmVtYWlsKVxuICBcbiAgaWYgKCF1c2VyKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnVXNlciBub3QgZm91bmQnIH1cbiAgfVxuICBcbiAgY29uc3Qgc3RvcmVkUGFzc3dvcmRIYXNoID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oYHBhc3N3b3JkXyR7dXNlci5pZH1gKVxuICBjb25zdCBpbnB1dFBhc3N3b3JkSGFzaCA9IHNpbXBsZUhhc2goZGF0YS5wYXNzd29yZClcbiAgXG4gIGlmIChzdG9yZWRQYXNzd29yZEhhc2ggIT09IGlucHV0UGFzc3dvcmRIYXNoKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnSW52YWxpZCBwYXNzd29yZCcgfVxuICB9XG4gIFxuICAvLyBVcGRhdGUgbGFzdCBsb2dpblxuICB1c2VyLmxhc3RMb2dpbkF0ID0gbmV3IERhdGUoKVxuICBjb25zdCB1c2VySW5kZXggPSB1c2Vycy5maW5kSW5kZXgodSA9PiB1LmlkID09PSB1c2VyLmlkKVxuICB1c2Vyc1t1c2VySW5kZXhdID0gdXNlclxuICBzYXZlVXNlcnModXNlcnMpXG4gIFxuICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB1c2VyIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNlc3Npb24odXNlcjogVXNlcik6IEF1dGhTZXNzaW9uIHtcbiAgY29uc3Qgc2Vzc2lvbjogQXV0aFNlc3Npb24gPSB7XG4gICAgdXNlcklkOiB1c2VyLmlkLFxuICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICB0b2tlbjogRGF0ZS5ub3coKS50b1N0cmluZygpLFxuICAgIGV4cGlyZXNBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKSAvLyA3IGRheXNcbiAgfVxuICBcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0VTU0lPTl9LRVksIEpTT04uc3RyaW5naWZ5KHNlc3Npb24pKVxuICB9XG4gIFxuICByZXR1cm4gc2Vzc2lvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFNlc3Npb24oKTogQXV0aFNlc3Npb24gfCBudWxsIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gbnVsbFxuICBcbiAgY29uc3Qgc2Vzc2lvbkRhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTRVNTSU9OX0tFWSlcbiAgaWYgKCFzZXNzaW9uRGF0YSkgcmV0dXJuIG51bGxcbiAgXG4gIHRyeSB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IEpTT04ucGFyc2Uoc2Vzc2lvbkRhdGEpXG4gICAgaWYgKG5ldyBEYXRlKCkgPiBuZXcgRGF0ZShzZXNzaW9uLmV4cGlyZXNBdCkpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFNFU1NJT05fS0VZKVxuICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG4gICAgcmV0dXJuIHNlc3Npb25cbiAgfSBjYXRjaCB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oU0VTU0lPTl9LRVkpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gbG9nb3V0KCkge1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShTRVNTSU9OX0tFWSlcbiAgfVxufVxuXG4vLyBEYWlseSBUZW1wbGF0ZSBGdW5jdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgRGFpbHlUZW1wbGF0ZSB7XG4gIGlkOiBzdHJpbmdcbiAgdXNlcklkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIHN1cHBsZW1lbnRzOiBPbWl0PFN1cHBsZW1lbnQsICdpZCcgfCAnY29tcGxldGVkJyB8ICd0YWtlbkF0Jz5bXVxuICBjcmVhdGVkQXQ6IERhdGVcbiAgdXBkYXRlZEF0OiBEYXRlXG59XG5cbmNvbnN0IERBSUxZX1RFTVBMQVRFX0tFWSA9ICdzdXBwbGVtZW50X2RhaWx5X3RlbXBsYXRlJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZURhaWx5VGVtcGxhdGUodXNlcklkOiBzdHJpbmcsIHN1cHBsZW1lbnRzOiBTdXBwbGVtZW50W10pOiBQcm9taXNlPHsgc3VjY2VzczogYm9vbGVhbjsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICB0cnkge1xuICAgIC8vIENvbnZlcnQgc3VwcGxlbWVudHMgdG8gdGVtcGxhdGUgZm9ybWF0IChyZW1vdmUgaWQsIGNvbXBsZXRlZCwgdGFrZW5BdClcbiAgICBjb25zdCB0ZW1wbGF0ZVN1cHBsZW1lbnRzID0gc3VwcGxlbWVudHMubWFwKHN1cHBsZW1lbnQgPT4gKHtcbiAgICAgIG5hbWU6IHN1cHBsZW1lbnQubmFtZSxcbiAgICAgIGRvc2FnZTogc3VwcGxlbWVudC5kb3NhZ2UsXG4gICAgICB0aW1lQ2F0ZWdvcnk6IHN1cHBsZW1lbnQudGltZUNhdGVnb3J5XG4gICAgfSkpXG5cbiAgICBjb25zdCB0ZW1wbGF0ZTogRGFpbHlUZW1wbGF0ZSA9IHtcbiAgICAgIGlkOiAnZGFpbHktdGVtcGxhdGUnLFxuICAgICAgdXNlcklkLFxuICAgICAgbmFtZTogJ0RhaWx5IFN1cHBsZW1lbnQgVGVtcGxhdGUnLFxuICAgICAgc3VwcGxlbWVudHM6IHRlbXBsYXRlU3VwcGxlbWVudHMsXG4gICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfVVNFX0ZJUkVCQVNFID09PSAndHJ1ZScpIHtcbiAgICAgIC8vIFNhdmUgdG8gRmlyZWJhc2UgKHdlJ2xsIGltcGxlbWVudCB0aGlzIGluIGZpcmViYXNlLXNlcnZpY2UudHMpXG4gICAgICAvLyBGb3Igbm93LCBmYWxsIGJhY2sgdG8gbG9jYWxTdG9yYWdlXG4gICAgICBjb25zb2xlLmxvZygnRmlyZWJhc2UgdGVtcGxhdGUgc2F2aW5nIG5vdCB5ZXQgaW1wbGVtZW50ZWQsIHVzaW5nIGxvY2FsU3RvcmFnZScpXG4gICAgfVxuXG4gICAgLy8gU2F2ZSB0byBsb2NhbFN0b3JhZ2UgYXMgZmFsbGJhY2tcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IGtleSA9IGAke0RBSUxZX1RFTVBMQVRFX0tFWX1fJHt1c2VySWR9YFxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeSh0ZW1wbGF0ZSkpXG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGRhaWx5IHRlbXBsYXRlOicsIGVycm9yKVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicgfVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYWlseVRlbXBsYXRlKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxEYWlseVRlbXBsYXRlIHwgbnVsbD4ge1xuICB0cnkge1xuICAgIGlmIChwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19VU0VfRklSRUJBU0UgPT09ICd0cnVlJykge1xuICAgICAgLy8gR2V0IGZyb20gRmlyZWJhc2UgKHdlJ2xsIGltcGxlbWVudCB0aGlzIGluIGZpcmViYXNlLXNlcnZpY2UudHMpXG4gICAgICAvLyBGb3Igbm93LCBmYWxsIGJhY2sgdG8gbG9jYWxTdG9yYWdlXG4gICAgICBjb25zb2xlLmxvZygnRmlyZWJhc2UgdGVtcGxhdGUgbG9hZGluZyBub3QgeWV0IGltcGxlbWVudGVkLCB1c2luZyBsb2NhbFN0b3JhZ2UnKVxuICAgIH1cblxuICAgIC8vIEdldCBmcm9tIGxvY2FsU3RvcmFnZSBhcyBmYWxsYmFja1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgY29uc3Qga2V5ID0gYCR7REFJTFlfVEVNUExBVEVfS0VZfV8ke3VzZXJJZH1gXG4gICAgICBjb25zdCB0ZW1wbGF0ZURhdGEgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpXG4gICAgICBpZiAodGVtcGxhdGVEYXRhKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKHRlbXBsYXRlRGF0YSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbnVsbFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgZGFpbHkgdGVtcGxhdGU6JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXBwbHlEYWlseVRlbXBsYXRlKHVzZXJJZDogc3RyaW5nLCB0YXJnZXREYXRlPzogc3RyaW5nKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGVycm9yPzogc3RyaW5nIH0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGF3YWl0IGdldERhaWx5VGVtcGxhdGUodXNlcklkKVxuICAgIGlmICghdGVtcGxhdGUpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ05vIGRhaWx5IHRlbXBsYXRlIGZvdW5kJyB9XG4gICAgfVxuXG4gICAgLy8gQ29udmVydCB0ZW1wbGF0ZSBzdXBwbGVtZW50cyB0byBhY3R1YWwgc3VwcGxlbWVudHNcbiAgICBjb25zdCBzdXBwbGVtZW50czogU3VwcGxlbWVudFtdID0gdGVtcGxhdGUuc3VwcGxlbWVudHMubWFwKCh0ZW1wbGF0ZVN1cCwgaW5kZXgpID0+ICh7XG4gICAgICBpZDogYHRlbXBsYXRlLSR7aW5kZXh9LSR7RGF0ZS5ub3coKX1gLFxuICAgICAgbmFtZTogdGVtcGxhdGVTdXAubmFtZSxcbiAgICAgIGRvc2FnZTogdGVtcGxhdGVTdXAuZG9zYWdlLFxuICAgICAgdGltZUNhdGVnb3J5OiB0ZW1wbGF0ZVN1cC50aW1lQ2F0ZWdvcnksXG4gICAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgdGFrZW5BdDogbmV3IERhdGUoKVxuICAgIH0pKVxuXG4gICAgLy8gQXBwbHkgdG8gdG9kYXkgb3IgdGFyZ2V0IGRhdGVcbiAgICBjb25zdCBkYXRlVG9BcHBseSA9IHRhcmdldERhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cbiAgICBcbiAgICAvLyBVcGRhdGUgdGhlIGRheSdzIGRhdGEgd2l0aCB0aGUgY29ycmVjdCBmdW5jdGlvblxuICAgIGlmICh0YXJnZXREYXRlKSB7XG4gICAgICBhd2FpdCB1cGRhdGVVc2VyRGF0ZURhdGEodXNlcklkLCBkYXRlVG9BcHBseSwgc3VwcGxlbWVudHMpXG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHVwZGF0ZVVzZXJUb2RheXNEYXRhKHVzZXJJZCwgc3VwcGxlbWVudHMpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFwcGx5aW5nIGRhaWx5IHRlbXBsYXRlOicsIGVycm9yKVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcicgfVxuICB9XG59Il0sIm5hbWVzIjpbImdldFVzZXJUb2RheXNEYXRhRnJvbUZpcmViYXNlIiwidXBkYXRlVXNlclRvZGF5c0RhdGFJbkZpcmViYXNlIiwidXBkYXRlVXNlckRhdGVEYXRhSW5GaXJlYmFzZSIsImdldFVzZXJEYWlseURhdGFGcm9tRmlyZWJhc2UiLCJnZXRVc2VyU3VwcGxlbWVudExpYnJhcnlGcm9tRmlyZWJhc2UiLCJzYXZlVXNlclN1cHBsZW1lbnRMaWJyYXJ5VG9GaXJlYmFzZSIsImNyZWF0ZVN1cHBsZW1lbnRGcm9tTGlicmFyeSIsIm1pZ3JhdGVMb2NhbFN0b3JhZ2VUb0ZpcmViYXNlIiwiVVNFX0ZJUkVCQVNFIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1VTRV9GSVJFQkFTRSIsIlNUT1JBR0VfS0VZIiwiTElCUkFSWV9LRVkiLCJVU0VSU19LRVkiLCJTRVNTSU9OX0tFWSIsInBhcnNlU3VwcGxlbWVudHMiLCJzdXBwcyIsIm1hcCIsInMiLCJ0YWtlbkF0IiwiRGF0ZSIsImNvbXBsZXRlZCIsImdldFVzZXJUb2RheXNEYXRhIiwidXNlcklkIiwiZXJyb3IiLCJjb25zb2xlIiwid2FybiIsImdldFVzZXJUb2RheXNEYXRhTG9jYWwiLCJ1cGRhdGVVc2VyVG9kYXlzRGF0YSIsInN1cHBsZW1lbnRzIiwidXBkYXRlVXNlclRvZGF5c0RhdGFMb2NhbCIsInVwZGF0ZVVzZXJEYXRlRGF0YSIsImRhdGVTdHJpbmciLCJ1cGRhdGVVc2VyRGF0ZURhdGFMb2NhbCIsImdldFVzZXJEYWlseURhdGEiLCJnZXRVc2VyRGFpbHlEYXRhTG9jYWwiLCJnZXRVc2VyU3VwcGxlbWVudExpYnJhcnkiLCJnZXRVc2VyU3VwcGxlbWVudExpYnJhcnlMb2NhbCIsInNhdmVVc2VyU3VwcGxlbWVudExpYnJhcnkiLCJsaWJyYXJ5Iiwic2F2ZVVzZXJTdXBwbGVtZW50TGlicmFyeUxvY2FsIiwiYWRkU3VwcGxlbWVudEZyb21MaWJyYXJ5IiwibGlicmFyeUl0ZW0iLCJ0aW1lQ2F0ZWdvcnkiLCJtaWdyYXRlRGF0YVRvRmlyZWJhc2UiLCJzdWNjZXNzIiwiZ2V0VXNlcktleSIsImtleSIsInRvZGF5IiwidG9JU09TdHJpbmciLCJzcGxpdCIsInVzZXJLZXkiLCJkYXRlIiwiZGF0YSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJwYXJzZWQiLCJKU09OIiwicGFyc2UiLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiYWxsRGF0YSIsImtleXMiLCJPYmplY3QiLCJ1c2VyUHJlZml4IiwiZm9yRWFjaCIsInN0YXJ0c1dpdGgiLCJpbmNsdWRlcyIsInB1c2giLCJlIiwic29ydCIsImEiLCJiIiwiZ2V0VGltZSIsInVzZXJMaWJyYXJ5S2V5IiwiZ2V0RGVmYXVsdExpYnJhcnkiLCJkZWZhdWx0TGlicmFyeSIsImlkIiwibmFtZSIsImRlZmF1bHREb3NhZ2UiLCJjYXRlZ29yeSIsImdldERhaWx5RGF0YSIsInJhdyIsImFyciIsImQiLCJzYXZlRGFpbHlEYXRhIiwiZ2V0VG9kYXlzRGF0YSIsImFsbCIsImRheSIsImZpbmQiLCJ1cGRhdGVUb2RheXNEYXRhIiwiaW5kZXgiLCJmaW5kSW5kZXgiLCJnZXRTdXBwbGVtZW50TGlicmFyeSIsInNhdmVTdXBwbGVtZW50TGlicmFyeSIsImdldEFsbFVzZXJzIiwidXNlcnMiLCJzYXZlVXNlcnMiLCJzaW1wbGVIYXNoIiwicGFzc3dvcmQiLCJoYXNoIiwiaSIsImxlbmd0aCIsImNoYXIiLCJjaGFyQ29kZUF0IiwidG9TdHJpbmciLCJjcmVhdGVBY2NvdW50IiwidSIsImVtYWlsIiwidXNlciIsIm5vdyIsImNyZWF0ZWRBdCIsImxhc3RMb2dpbkF0IiwiaGFzaGVkUGFzc3dvcmQiLCJsb2dpblVzZXIiLCJzdG9yZWRQYXNzd29yZEhhc2giLCJpbnB1dFBhc3N3b3JkSGFzaCIsInVzZXJJbmRleCIsImNyZWF0ZVNlc3Npb24iLCJzZXNzaW9uIiwidG9rZW4iLCJleHBpcmVzQXQiLCJnZXRDdXJyZW50U2Vzc2lvbiIsInNlc3Npb25EYXRhIiwicmVtb3ZlSXRlbSIsImxvZ291dCIsIkRBSUxZX1RFTVBMQVRFX0tFWSIsInNhdmVEYWlseVRlbXBsYXRlIiwidGVtcGxhdGVTdXBwbGVtZW50cyIsInN1cHBsZW1lbnQiLCJkb3NhZ2UiLCJ0ZW1wbGF0ZSIsInVwZGF0ZWRBdCIsImxvZyIsIkVycm9yIiwibWVzc2FnZSIsImdldERhaWx5VGVtcGxhdGUiLCJ0ZW1wbGF0ZURhdGEiLCJhcHBseURhaWx5VGVtcGxhdGUiLCJ0YXJnZXREYXRlIiwidGVtcGxhdGVTdXAiLCJkYXRlVG9BcHBseSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/storage-enhanced.ts\n");

/***/ }),

/***/ "./styles/globals.css":
/*!****************************!*\
  !*** ./styles/globals.css ***!
  \****************************/
/***/ (() => {



/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "firebase/app":
/*!*******************************!*\
  !*** external "firebase/app" ***!
  \*******************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/app");;

/***/ }),

/***/ "firebase/auth":
/*!********************************!*\
  !*** external "firebase/auth" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/auth");;

/***/ }),

/***/ "firebase/firestore":
/*!*************************************!*\
  !*** external "firebase/firestore" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = import("firebase/firestore");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Flibrary&preferredRegion=&absolutePagePath=.%2Fpages%2Flibrary.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();